Test Suite 'All tests' started at 2025-09-09 22:51:09.069.
Test Suite 'KeyPathPackageTests.xctest' started at 2025-09-09 22:51:09.071.
Test Suite 'ContentViewDebounceTests' started at 2025-09-09 22:51:09.071.
Test Case '-[KeyPathTests.ContentViewDebounceTests testConfigurationSaveDebouncing]' started.
[2025-09-09 22:51:09.073] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.073] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.073] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.073] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.073] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.073] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.074] [ContentViewDebounceTests.swift:44 testConfigurationSaveDebouncing()] âœ… [Test] Configuration debouncing behavior verified
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.074] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ContentViewDebounceTests testConfigurationSaveDebouncing]' passed (0.003 seconds).
Test Case '-[KeyPathTests.ContentViewDebounceTests testConfigurationSaveFlow]' started.
[2025-09-09 22:51:09.075] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.075] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.075] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.075] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.075] [ContentViewDebounceTests.swift:88 testConfigurationSaveFlow()] âœ… [Test] Configuration save flow structure verified
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.075] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ContentViewDebounceTests testConfigurationSaveFlow]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ContentViewDebounceTests testErrorHandlingPreservesUIState]' started.
[2025-09-09 22:51:09.076] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.076] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.076] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.076] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.076] [ContentViewDebounceTests.swift:59 testErrorHandlingPreservesUIState()] âœ… [Test] Error handling structure verified
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ContentViewDebounceTests testErrorHandlingPreservesUIState]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ContentViewDebounceTests testMultipleConcurrentSaves]' started.
[2025-09-09 22:51:09.076] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.076] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.076] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.076] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.076] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:101 testMultipleConcurrentSaves()] ğŸ§ª [Test] Starting concurrent save task 1
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:109 testMultipleConcurrentSaves()] ğŸ§ª [Test] Completed concurrent save task 1
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:101 testMultipleConcurrentSaves()] ğŸ§ª [Test] Starting concurrent save task 2
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:109 testMultipleConcurrentSaves()] ğŸ§ª [Test] Completed concurrent save task 2
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:101 testMultipleConcurrentSaves()] ğŸ§ª [Test] Starting concurrent save task 3
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:109 testMultipleConcurrentSaves()] ğŸ§ª [Test] Completed concurrent save task 3
[2025-09-09 22:51:09.077] [ContentViewDebounceTests.swift:118 testMultipleConcurrentSaves()] âœ… [Test] Concurrent saves handled successfully
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ContentViewDebounceTests testMultipleConcurrentSaves]' passed (0.001 seconds).
Test Suite 'ContentViewDebounceTests' passed at 2025-09-09 22:51:09.077.
	 Executed 4 tests, with 0 failures (0 unexpected) in 0.005 (0.006) seconds
Test Suite 'ErrorHandlingTests' started at 2025-09-09 22:51:09.077.
Test Case '-[KeyPathTests.ErrorHandlingTests testAsyncConfigurationErrors]' started.
[2025-09-09 22:51:09.077] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.077] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.077] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.077] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.077] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.078] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.078] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.078] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.078] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.078] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.078] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.078] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.078] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12 to 127.0.0.1:37001
[2025-09-09 22:51:09.078] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.079] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.079] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.080] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.080] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.135] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:54258 [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.135] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.135] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.135] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:54258 [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.135] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.160] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.160] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 19AF83D3-7273-4A9F-9B5F-E7A605A2BC12]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.161] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request C1679360-EA20-409A-9823-49FBF7DF1D78 to 127.0.0.1:37001
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:54258 [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:54258 [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.161] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.165] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.165] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: C1679360-EA20-409A-9823-49FBF7DF1D78]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.166] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request E7D874D4-EFFF-4494-A2BF-B25BCEB91C88 to 127.0.0.1:37001
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)","session_id":"***"}} [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:54258 [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:54258 [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.166] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.167] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.167] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: E7D874D4-EFFF-4494-A2BF-B25BCEB91C88]
[2025-09-09 22:51:09.167] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.167] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.001 seconds
[2025-09-09 22:51:09.167] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.167] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.167] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.167] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.167] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.167] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.167] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.167] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.168] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.168] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.168] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.168] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.234] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.066 seconds
[2025-09-09 22:51:09.234] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.234] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.1756 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.1756 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.1759 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.1762 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.234] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.234] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.234] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.234] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.157 seconds
[2025-09-09 22:51:09.234] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.234] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.234] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.234] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.234] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.235] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.235] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.235] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.235] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.235] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.235] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.236] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.236] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.236] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.236] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.236] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.236] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testAsyncConfigurationErrors]' passed (0.159 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testAsyncResetConfigurationErrors]' started.
[2025-09-09 22:51:09.236] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.236] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.236] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.237] [KanataManager.swift:3223 resetToDefaultConfig()] ğŸ’¾ [Config] Reset to default configuration
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testAsyncResetConfigurationErrors]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testCommandKeyMappingErrorHandling]' started.
[2025-09-09 22:51:09.237] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.237] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testCommandKeyMappingErrorHandling]' passed (0.000 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConcurrentConfigurationOperations]' started.
[2025-09-09 22:51:09.237] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.237] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.237] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:09.238] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.238] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.238] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.238] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.238] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.238] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.238] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.238] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.238] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2 to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.238] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.238] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request B2232595-2E21-48A0-AE21-120903DCEBA8 to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.238] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.238] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.238] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.238] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request A4CC0314-84CF-4C09-9503-EFF8E448B4EE to 127.0.0.1:37001
[2025-09-09 22:51:09.238] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.238] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.239] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.239] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733 to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.239] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.239] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.239] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.239] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.239] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.239] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.239] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.239] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.239] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.239] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.239] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 05AEA544-93AA-485A-B8D9-C3C11998D892 to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 0A663A22-D6B3-49E4-B1D1-0624902CC6AF to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.239] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.239] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.239] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.239] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.239] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.239] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.239] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.240] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.240] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75 to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.240] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.240] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.240] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.240] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.240] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:09.240] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.240] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:09.240] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:09.240] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 9468BF96-C6DB-423B-9C6B-81092FAC35B1 to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.240] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.241] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.241] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.241] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.241] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:09.241] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61052 [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:65404 [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61072 [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:60512 [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59264 [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61052 [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:50890 [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59264 [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62031 [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59751 [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:51496 [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61072 [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62031 [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:60512 [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:65404 [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59751 [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:51496 [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:63473 [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:50890 [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:63473 [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.292] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: B2232595-2E21-48A0-AE21-120903DCEBA8]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: A4CC0314-84CF-4C09-9503-EFF8E448B4EE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 51E079AF-5654-45FC-A937-24DF70DE7C7F to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request E9A643F9-DDEA-496C-9360-785BF45A0E31 to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 05AEA544-93AA-485A-B8D9-C3C11998D892]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61052 [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59264 [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61052 [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request FCC940CB-C622-41C8-A40B-4B1D33272FAE to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59264 [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61072 [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 9468BF96-C6DB-423B-9C6B-81092FAC35B1]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 447EAF9F-ACEC-4D84-B905-AB8A0A0E9F9D]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 0A663A22-D6B3-49E4-B1D1-0624902CC6AF]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61072 [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request D51DBF06-0F65-447B-910B-EA267FD1590B to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 0E2AC7AF-A4A3-4090-855F-46EDFB9ED733]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request D03F72F9-9B8C-4D9E-8836-AEBA9490472A to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 6D6CFC8C-3444-4890-925E-7C763D8767DD to 127.0.0.1:37001
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59751 [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:60512 [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62031 [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59751 [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:65404 [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: A05FCCDA-5D6E-44E0-AAE9-FFF803F6AD75]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.293] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.294] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:65404 [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request F8C308F5-99D0-4CFD-8ABD-050B1D7F8121 to 127.0.0.1:37001
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62031 [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:60512 [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:51496 [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 3C45E96D-2FA8-4EE9-B61F-11AD69480B4A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:51496 [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 8A690311-FED7-4D6E-9B9C-FA2D0F8013F2]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 8A0770EE-5A0E-4C97-83AF-5741D397D805 to 127.0.0.1:37001
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:09.294] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:50890 [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A to 127.0.0.1:37001
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:50890 [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:63473 [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:63473 [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 51E079AF-5654-45FC-A937-24DF70DE7C7F]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: E9A643F9-DDEA-496C-9360-785BF45A0E31]
[2025-09-09 22:51:09.294] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D to 127.0.0.1:37001
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.294] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.294] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61052 [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 7CE76523-57B2-46E3-84EF-A30E765B11BC to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)","session_id":"***"}} [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59264 [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59264 [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: FCC940CB-C622-41C8-A40B-4B1D33272FAE]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61052 [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: D03F72F9-9B8C-4D9E-8836-AEBA9490472A]
[2025-09-09 22:51:09.295] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 45086142-C8EE-4C77-B36D-E103524337F0 to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 6D6CFC8C-3444-4890-925E-7C763D8767DD]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)","session_id":"***"}} [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:61072 [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.295] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 39B5D196-C60E-4D02-A261-7CAF7C69E07E to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:61072 [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 5CFCB959-1EEE-4099-9B11-310D7DB502EC to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: CF456B04-EFA8-44F2-AD2E-39B7F97CEFCD]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: D51DBF06-0F65-447B-910B-EA267FD1590B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:65404 [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:65404 [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.295] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request EF2B73CF-6D48-4EE8-9806-1751014E9B1F to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:59751 [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62031 [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B to 127.0.0.1:37001
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62031 [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:60512 [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:59751 [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:60512 [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.295] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: F8C308F5-99D0-4CFD-8ABD-050B1D7F8121]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.296] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request E8CB9526-297B-4DB6-88E9-DAE5FE437048 to 127.0.0.1:37001
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 8A0770EE-5A0E-4C97-83AF-5741D397D805]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 8D5BBA3A-903A-4286-B0C5-74F12B1D1A5A]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:51496 [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 330F85CA-E99C-4EC0-8499-C6FA2C4CDE4D]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:51496 [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E to 127.0.0.1:37001
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.296] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 7CE76523-57B2-46E3-84EF-A30E765B11BC]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)","session_id":"***"}} [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request ED974170-973B-4503-88E4-AEFC6DC510A5 to 127.0.0.1:37001
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:63473 [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:50890 [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.002 seconds
[2025-09-09 22:51:09.296] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.296] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.296] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.296] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:63473 [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:50890 [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.296] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 45086142-C8EE-4C77-B36D-E103524337F0]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 39B5D196-C60E-4D02-A261-7CAF7C69E07E]
[2025-09-09 22:51:09.297] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.297] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: EF2B73CF-6D48-4EE8-9806-1751014E9B1F]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 5CFCB959-1EEE-4099-9B11-310D7DB502EC]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.297] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.297] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.297] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: A9E0BF76-C4E2-4B3A-A802-4C9D1AD9279B]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: E8CB9526-297B-4DB6-88E9-DAE5FE437048]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: ED974170-973B-4503-88E4-AEFC6DC510A5]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: E81D7F5A-AF44-4EDD-AA10-D0679CDADB5E]
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.297] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:09.364] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.068 seconds
[2025-09-09 22:51:09.365] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.365] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.3035 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.3035 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.3036 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.3037 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.365] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.365] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.365] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.365] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.127 seconds
[2025-09-09 22:51:09.365] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.365] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.365] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.365] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.365] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.365] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.365] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.365] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.365] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.365] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.365] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.366] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.366] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.071 seconds
[2025-09-09 22:51:09.366] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.366] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.366] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.366] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.366] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.366] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.366] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.366] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.366] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.366] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.366] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.366] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.433] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.067 seconds
[2025-09-09 22:51:09.433] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.433] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.3724 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.3724 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.3726 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.3726 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.436] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.436] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.436] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.436] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.198 seconds
[2025-09-09 22:51:09.436] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.437] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.437] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.437] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.437] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.437] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.437] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.437] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.437] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.437] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.437] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.437] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.437] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.143 seconds
[2025-09-09 22:51:09.437] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.437] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.437] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.437] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.437] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.438] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.438] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.438] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.438] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.438] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.438] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.438] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.506] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.068 seconds
[2025-09-09 22:51:09.506] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.506] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.4442 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.4442 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.4443 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.4444 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.509] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.509] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.509] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.509] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.271 seconds
[2025-09-09 22:51:09.509] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.509] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.509] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.509] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.509] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.510] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.510] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.510] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.510] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.510] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.510] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.510] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.510] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.215 seconds
[2025-09-09 22:51:09.510] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.510] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.510] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.510] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.510] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.510] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.511] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.511] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.511] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.511] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.511] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.511] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.574] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.063 seconds
[2025-09-09 22:51:09.574] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.574] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.5177 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.5177 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.5180 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.5181 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.574] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.574] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.574] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.574] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.336 seconds
[2025-09-09 22:51:09.574] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.574] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.574] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.574] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.574] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.574] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.575] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.575] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.575] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.575] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.575] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.575] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.575] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.280 seconds
[2025-09-09 22:51:09.575] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.575] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.575] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.575] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.575] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.575] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.575] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.575] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.576] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.576] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.576] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.576] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.642] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.067 seconds
[2025-09-09 22:51:09.642] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.643] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.5824 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.5824 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.5825 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.5826 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.643] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.643] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.643] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.643] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.403 seconds
[2025-09-09 22:51:09.643] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.643] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.643] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.643] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.643] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.643] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.643] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.643] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.643] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.643] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.643] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.644] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.644] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.349 seconds
[2025-09-09 22:51:09.644] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.644] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.644] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.644] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.644] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.644] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.644] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.644] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.644] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.644] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.644] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.644] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.708] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.064 seconds
[2025-09-09 22:51:09.708] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.708] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.6507 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.6507 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.6508 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.6509 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.709] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.709] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.709] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.709] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.470 seconds
[2025-09-09 22:51:09.709] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.709] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.709] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.709] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.709] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.709] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.709] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.709] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.709] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.709] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.709] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.710] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.710] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.414 seconds
[2025-09-09 22:51:09.710] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.710] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.710] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.710] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.710] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.710] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.710] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.710] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.710] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.710] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.710] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.710] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.773] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.063 seconds
[2025-09-09 22:51:09.773] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.773] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.7167 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.7167 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.7169 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.7169 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.773] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.773] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.773] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.773] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.536 seconds
[2025-09-09 22:51:09.774] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.774] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.774] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.774] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.774] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.774] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.781] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.781] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.781] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.781] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.781] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.782] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.782] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.486 seconds
[2025-09-09 22:51:09.782] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.782] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.782] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.782] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.782] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.782] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.782] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.782] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.782] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.782] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.782] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.782] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.850] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.068 seconds
[2025-09-09 22:51:09.850] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.850] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.7879 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.7879 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.7880 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.7881 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.850] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.850] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.850] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.850] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.611 seconds
[2025-09-09 22:51:09.850] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.850] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.850] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.850] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.850] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.850] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.851] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.851] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.851] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.851] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.851] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.851] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.851] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.555 seconds
[2025-09-09 22:51:09.851] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.851] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.851] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.851] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.851] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.851] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.851] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.851] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.851] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.851] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.851] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.851] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.917] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.066 seconds
[2025-09-09 22:51:09.917] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.918] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.8575 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.8575 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.8576 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.8577 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.918] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.918] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.918] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.918] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.680 seconds
[2025-09-09 22:51:09.918] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.918] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.918] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.918] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.918] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.918] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.918] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.918] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.918] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.918] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.918] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.918] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.919] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.623 seconds
[2025-09-09 22:51:09.919] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:09.919] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:09.919] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:09.919] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:09.919] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:09.919] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:09.919] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:09.919] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:09.919] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:09.919] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:09.919] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.919] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:09.984] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.064 seconds
[2025-09-09 22:51:09.984] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:09.984] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:09.9254 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:09.9254 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:09.9255 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:09.9256 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:09.984] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:09.984] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:09.984] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.984] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.744 seconds
[2025-09-09 22:51:09.984] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:09.984] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:09.984] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:09.984] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:09.984] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:09.984] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:09.984] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 2 mappings
[2025-09-09 22:51:09.984] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 2 mappings via ConfigurationService
[2025-09-09 22:51:09.984] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:09.984] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:09.984] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:09.985] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:09.985] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:09.985] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.985] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.985] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConcurrentConfigurationOperations]' passed (0.748 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigGenerationWithInvalidInputOutput]' started.
[2025-09-09 22:51:09.986] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.986] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.986] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.986] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.986] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.986] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigGenerationWithInvalidInputOutput]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigurationIntegrity]' started.
[2025-09-09 22:51:09.986] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.986] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.986] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigurationIntegrity]' passed (0.003 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigurationRoundTrip]' started.
[2025-09-09 22:51:09.989] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.989] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigurationRoundTrip]' passed (0.000 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigWithNonASCIICharacters]' started.
[2025-09-09 22:51:09.989] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.989] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.989] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:09.991] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:09.991] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:09.991] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigWithNonASCIICharacters]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigWithSpecialKanataCharacters]' started.
[2025-09-09 22:51:09.991] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:09.991] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:09.991] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:173: error: -[KeyPathTests.ErrorHandlingTests testConfigWithSpecialKanataCharacters] : XCTAssertEqual failed: ("5") is not equal to ("4") - Should have balanced parentheses with special char: (
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:173: error: -[KeyPathTests.ErrorHandlingTests testConfigWithSpecialKanataCharacters] : XCTAssertEqual failed: ("4") is not equal to ("5") - Should have balanced parentheses with special char: )
[2025-09-09 22:51:10.158] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:10.158] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:10.158] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testConfigWithSpecialKanataCharacters]' failed (0.167 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testDirectoryCreationErrorHandling]' started.
[2025-09-09 22:51:10.158] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:10.158] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:10.158] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:10.158] [ConfigFileWatcher.swift:52 suppressEvents(for:reason:)] ğŸ”‡ [FileWatcher] Suppressing events for 1.0s - Internal saveConfiguration
[2025-09-09 22:51:10.158] [KanataManager.swift:2917 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION BEGIN ==========
[2025-09-09 22:51:10.158] [KanataManager.swift:2928 loadExistingMappings()] ğŸ“– [Validation] Reading config file from: /Users/malpern/.config/keypath/keypath.kbd
[2025-09-09 22:51:10.159] [KanataManager.swift:2930 loadExistingMappings()] ğŸ“– [Validation] Config file size: 224 characters
[2025-09-09 22:51:10.159] [KanataManager.swift:2933 loadExistingMappings()] ğŸ” [Validation] Starting validation of existing configuration...
[2025-09-09 22:51:10.159] [KanataManager.swift:3368 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION START ==========
[2025-09-09 22:51:10.159] [KanataManager.swift:3369 validateGeneratedConfig(_:)] ğŸ” [Validation] Config size: 224 characters
[2025-09-09 22:51:10.159] [KanataManager.swift:3373 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP port configured: 37001
[2025-09-09 22:51:10.159] [KanataManager.swift:3377 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] Checking UDP server availability on port 37001...
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:203 checkServerStatus(authToken:)] ğŸŒ [UDP] Checking server status for 127.0.0.1:37001
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 34C67359-F712-42C2-9F4D-2F373ACF52A9 to 127.0.0.1:37001
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (30 bytes) [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"RequestCurrentLayerName":{}} [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37001
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:10.159] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62225 [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62225 [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 15 bytes [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.214] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 34C67359-F712-42C2-9F4D-2F373ACF52A9]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:212 checkServerStatus(authToken:)] ğŸŒ [UDP] Server response: "AuthRequired"

[2025-09-09 22:51:10.215] [KanataUDPClient.swift:216 checkServerStatus(authToken:)] âœ… [UDP] Server is responding (auth required)
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request FA095691-D66E-486D-A930-7B2A0FB3848D to 127.0.0.1:37001
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (96 bytes) [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62225 [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62225 [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 90 bytes [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: FA095691-D66E-486D-A930-7B2A0FB3848D]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:140 authenticate(token:clientName:)] âœ… [UDP] Authentication successful
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:141 authenticate(token:clientName:)] ğŸ” [UDP] Session established (expires in 1800s)
[2025-09-09 22:51:10.215] [KanataManager.swift:3379 validateGeneratedConfig(_:)] ğŸ“¡ [Validation] UDP server is AVAILABLE, using UDP validation
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 09548755-9C7C-4DC8-9878-9B3A60F0F9C2 to 127.0.0.1:37001
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37001 (312 bytes) [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"ValidateConfig":{"session_id":"***","config_content":";; Generated by KeyPath\n;; 1 key mapping(s) configured\n;;\n;; SAFETY FEATURES:\n;; - process-unmapped-keys no: Only process explicitly mapped keys\n\n(defcfg\n  process-unmapped-keys no\n)\n\n(defsrc\n  caps\n)\n\n(deflayer base\n  esc\n)"}} [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:62225 [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:62225 [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.215] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.216] [KanataUDPClient.swift:573 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Received response: 313 bytes [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.216] [KanataUDPClient.swift:575 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Response context: Network.NWConnection.ContentContext [requestId: 09548755-9C7C-4DC8-9878-9B3A60F0F9C2]
[2025-09-09 22:51:10.216] [KanataUDPClient.swift:307 validateConfig(_:)] âŒ [UDP] Config validation error: invalidResponse
[2025-09-09 22:51:10.216] [KanataManager.swift:3383 validateGeneratedConfig(_:)] â±ï¸ [Validation] UDP validation completed in 0.000 seconds
[2025-09-09 22:51:10.216] [KanataManager.swift:3399 validateGeneratedConfig(_:)] âš ï¸ [Validation] UDP validation network error: Invalid or malformed response from server
[2025-09-09 22:51:10.216] [KanataManager.swift:3400 validateGeneratedConfig(_:)] âš ï¸ [Validation] Falling back to CLI validation...
[2025-09-09 22:51:10.216] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
[2025-09-09 22:51:10.216] [KanataManager.swift:3417 validateGeneratedConfig(_:)] ğŸ–¥ï¸ [Validation] Starting CLI validation...
[2025-09-09 22:51:10.216] [KanataManager.swift:3441 validateConfigWithCLI(_:)] ğŸ–¥ï¸ [Validation-CLI] Starting CLI validation process...
[2025-09-09 22:51:10.216] [KanataManager.swift:3445 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Creating temp config file: /Users/malpern/.config/keypath/temp_validation.kbd
[2025-09-09 22:51:10.216] [KanataManager.swift:3452 validateConfigWithCLI(_:)] ğŸ“ [Validation-CLI] Temp config written successfully (224 characters)
[2025-09-09 22:51:10.216] [KanataManager.swift:3456 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Using kanata binary: /Library/KeyPath/bin/kanata
[2025-09-09 22:51:10.216] [PreferencesService.swift:255 buildUDPArguments(port:sessionTimeout:defaultTimeout:)] ğŸ” [UDP Launch] Auth token ensured; using environment variable
[2025-09-09 22:51:10.216] [KanataManager.swift:3819 buildKanataArguments(configPath:checkOnly:)] ğŸ“¡ [KanataArgs] UDP server enabled on port 37001
[2025-09-09 22:51:10.216] [KanataManager.swift:3832 buildKanataArguments(configPath:checkOnly:)] ğŸ”§ [KanataArgs] Built arguments: --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:10.216] [KanataManager.swift:3462 validateConfigWithCLI(_:)] ğŸ”§ [Validation-CLI] Command: /Library/KeyPath/bin/kanata --cfg /Users/malpern/.config/keypath/temp_validation.kbd --udp-port 37001 --check
[2025-09-09 22:51:10.284] [KanataManager.swift:3472 validateConfigWithCLI(_:)] â±ï¸ [Validation-CLI] CLI validation completed in 0.067 seconds
[2025-09-09 22:51:10.284] [KanataManager.swift:3477 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Exit code: 0
[2025-09-09 22:51:10.284] [KanataManager.swift:3479 validateConfigWithCLI(_:)] ğŸ“‹ [Validation-CLI] Output: 22:51:10.2222 [0m[34m[INFO] [0mkanata v1.9.0 starting
22:51:10.2223 [0m[34m[INFO] [0mvalidating config only and exiting
22:51:10.2224 [0m[34m[INFO] [0mprocess unmapped keys: false
22:51:10.2224 [0m[34m[INFO] [0mconfig file is valid
...
[2025-09-09 22:51:10.284] [KanataManager.swift:3484 validateConfigWithCLI(_:)] ğŸ—‘ï¸ [Validation-CLI] Temp file cleaned up
[2025-09-09 22:51:10.284] [KanataManager.swift:3487 validateConfigWithCLI(_:)] âœ… [Validation-CLI] CLI validation PASSED
[2025-09-09 22:51:10.284] [KanataManager.swift:3419 validateGeneratedConfig(_:)] ğŸ” [Validation] ========== CONFIG VALIDATION END ==========
[2025-09-09 22:51:10.284] [KanataManager.swift:2937 loadExistingMappings()] â±ï¸ [Validation] Validation completed in 0.125 seconds
[2025-09-09 22:51:10.284] [KanataManager.swift:2941 loadExistingMappings()] âœ… [Validation] Config validation PASSED
[2025-09-09 22:51:10.284] [KanataManager.swift:3152 parseKanataConfig(_:)] ğŸ” [Parse] Found 1 src keys, 1 layer keys, deduplicated to 1 unique mappings
[2025-09-09 22:51:10.284] [KanataManager.swift:2943 loadExistingMappings()] âœ… [Validation] Successfully loaded 1 existing mappings:
[2025-09-09 22:51:10.284] [KanataManager.swift:2945 loadExistingMappings()]    1. caps â†’ esc
[2025-09-09 22:51:10.284] [KanataManager.swift:2962 loadExistingMappings()] ğŸ“‚ [Validation] ========== STARTUP CONFIG VALIDATION END ==========
[2025-09-09 22:51:10.284] [KanataManager.swift:523 backupCurrentConfig()] ğŸ’¾ [Backup] Current config backed up successfully
[2025-09-09 22:51:10.284] [ConfigurationService.swift:240 saveConfiguration(keyMappings:)] âœ… [ConfigService] Configuration saved with 1 mappings
[2025-09-09 22:51:10.284] [KanataManager.swift:1765 saveConfiguration(input:output:)] ğŸ’¾ [Config] Config saved with 1 mappings via ConfigurationService
[2025-09-09 22:51:10.284] [KanataManager+Configuration.swift:93 triggerUDPReload()] ğŸ§ª [UDP Reload] Skipping UDP reload in test environment
[2025-09-09 22:51:10.284] [KanataManager.swift:1786 saveConfiguration(input:output:)] âŒ [Config] UDP reload FAILED: Test environment - UDP disabled
[2025-09-09 22:51:10.284] [KanataManager.swift:1787 saveConfiguration(input:output:)] âŒ [Config] UDP server is required for validation-on-demand - restoring backup
[2025-09-09 22:51:10.285] [KanataManager.swift:536 restoreLastGoodConfig()] ğŸ”„ [Restore] Restored last good config successfully
[2025-09-09 22:51:10.285] [SoundManager.swift:14 playTinkSound()] ğŸ§ª [Sound] Suppressed tink sound in test environment
[2025-09-09 22:51:10.285] [SoundManager.swift:34 playErrorSound()] ğŸ§ª [Sound] Suppressed error beep in test environment
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testDirectoryCreationErrorHandling]' passed (0.127 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testExtremeKeyCodeHandling]' started.
[2025-09-09 22:51:10.285] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:10.285] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:10.285] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testExtremeKeyCodeHandling]' passed (0.000 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testInvalidKeyInputHandling]' started.
[2025-09-09 22:51:10.286] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:10.286] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testInvalidKeyInputHandling]' passed (0.000 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testInvalidPathHandling]' started.
[2025-09-09 22:51:10.286] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:10.286] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:327: error: -[KeyPathTests.ErrorHandlingTests testInvalidPathHandling] : XCTAssertTrue failed - Config path should be in Library directory
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:328: error: -[KeyPathTests.ErrorHandlingTests testInvalidPathHandling] : XCTAssertTrue failed - Config path should contain KeyPath
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:10.286] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testInvalidPathHandling]' failed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testKanataProcessErrorHandling]' started.
[2025-09-09 22:51:10.287] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:10.287] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:10.287] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:10.287] [KanataManager.swift:1505 checkLaunchDaemonStatus()] ğŸ§ª [TestEnvironment] Skipping launchctl check - returning mock data
[2025-09-09 22:51:10.287] [KanataManager.swift:1861 performUpdateStatus()] âš ï¸ [Status] LaunchDaemon service state changed: true
[2025-09-09 22:51:10.287] [KanataManager.swift:1871 performUpdateStatus()] ğŸ”„ [Status] LaunchDaemon service running - cleared stale diagnostics
[2025-09-09 22:51:10.806] [ProcessLifecycleManager.swift:133 detectConflicts()] ğŸ” [ProcessLifecycleManager] Detecting conflicts...
[2025-09-09 22:51:10.806] [ProcessLifecycleManager.swift:137 detectConflicts()] ğŸ§ª [TestEnvironment] Skipping process conflict detection - returning clean state
[2025-09-09 22:51:10.806] [KanataManager.swift:1583 verifyNoProcessConflicts()] ğŸ” [Verify] Process status: 0 managed, 0 conflicts
[2025-09-09 22:51:10.806] [KanataManager.swift:1596 verifyNoProcessConflicts()] âœ… [Verify] Clean single-process architecture confirmed - no conflicts
[2025-09-09 22:51:10.806] [KanataManager.swift:895 startKanata()] ğŸ“ [Trace] startKanata() called from:
[2025-09-09 22:51:10.811] [KanataManager.swift:897 startKanata()] ğŸ“ [Trace] [0] 0   KeyPathPackageTests                 0x000000010909218c $s7KeyPath13KanataManagerC05startC0yyYaFTY0_ + 268
[2025-09-09 22:51:10.811] [KanataManager.swift:897 startKanata()] ğŸ“ [Trace] [1] 1   KeyPathPackageTests                 0x0000000109478ce5 $s12KeyPathTests013ErrorHandlingC0C017testKanataProcessdE0yyYaKFTQ3_ + 1
[2025-09-09 22:51:10.811] [KanataManager.swift:897 startKanata()] ğŸ“ [Trace] [2] 2   KeyPathPackageTests                 0x00000001094795c9 $s12KeyPathTests013ErrorHandlingC0C017testKanataProcessdE0yyYaKFyyYacfU_ToTQ1_ + 1
[2025-09-09 22:51:10.811] [KanataManager.swift:897 startKanata()] ğŸ“ [Trace] [3] 3   KeyPathPackageTests                 0x00000001094797ad $s12KeyPathTests013ErrorHandlingC0C017testKanataProcessdE0yyYaKFyyYacfU_ToTATQ0_ + 1
[2025-09-09 22:51:10.811] [KanataManager.swift:897 startKanata()] ğŸ“ [Trace] [4] 4   KeyPathPackageTests                 0x0000000109469a9d $sIeghH_IeAgH_TRTQ0_ + 1
[2025-09-09 22:51:10.811] [KanataManager.swift:952 performStartKanata()] ğŸš€ [Start] ========== KANATA START ATTEMPT ==========
[2025-09-09 22:51:10.811] [KanataManager.swift:953 performStartKanata()] ğŸš€ [Start] Time: 2025-09-10 02:51:10 +0000
[2025-09-09 22:51:10.811] [KanataManager.swift:954 performStartKanata()] ğŸš€ [Start] Starting Kanata with synchronization lock...
[2025-09-09 22:51:10.811] [KanataManager.swift:985 performStartKanata()] ğŸ” [Start] Kanata is already running - checking health before restart
[2025-09-09 22:51:10.811] [KanataManager.swift:1505 checkLaunchDaemonStatus()] ğŸ§ª [TestEnvironment] Skipping launchctl check - returning mock data
[2025-09-09 22:51:10.811] [KanataManager.swift:992 performStartKanata()] ğŸ” [Start] LaunchDaemon confirms service is running (PID: unknown)
[2025-09-09 22:51:10.811] [KanataManager.swift:998 performStartKanata()] â³ [Start] Process is running and within UDP grace period (0.5s < 10.0s) - skipping UDP health check
[2025-09-09 22:51:10.811] [KanataManager.swift:1636 stopKanata()] ğŸ›‘ [Stop] Stopping Kanata LaunchDaemon service...
[2025-09-09 22:51:10.811] [KanataManager.swift:1604 stopLaunchDaemonService()] ğŸ›‘ [LaunchDaemon] Stopping Kanata service via PrivilegedOperations...
[2025-09-09 22:51:11.845] [KanataManager.swift:1642 stopKanata()] âœ… [Stop] Successfully stopped Kanata LaunchDaemon service
[2025-09-09 22:51:11.845] [LaunchDaemonPIDCache.swift:83 invalidateCache()] ğŸ—‘ï¸ [PIDCache] Cache invalidated
[2025-09-09 22:51:11.845] [ProcessLifecycleManager.swift:125 unregisterProcess()] ğŸ—‘ï¸ [ProcessLifecycleManager] Unregistered process
[2025-09-09 22:51:11.845] [KanataManager.swift:1636 stopKanata()] ğŸ›‘ [Stop] Stopping Kanata LaunchDaemon service...
[2025-09-09 22:51:11.845] [KanataManager.swift:1604 stopLaunchDaemonService()] ğŸ›‘ [LaunchDaemon] Stopping Kanata service via PrivilegedOperations...
[2025-09-09 22:51:12.876] [KanataManager.swift:1642 stopKanata()] âœ… [Stop] Successfully stopped Kanata LaunchDaemon service
[2025-09-09 22:51:12.876] [LaunchDaemonPIDCache.swift:83 invalidateCache()] ğŸ—‘ï¸ [PIDCache] Cache invalidated
[2025-09-09 22:51:12.877] [ProcessLifecycleManager.swift:125 unregisterProcess()] ğŸ—‘ï¸ [ProcessLifecycleManager] Unregistered process
[2025-09-09 22:51:12.877] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.877] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.877] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testKanataProcessErrorHandling]' passed (2.590 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testMemoryPressureErrorHandling]' started.
[2025-09-09 22:51:12.878] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.878] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.878] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:12.887] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.887] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.887] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testMemoryPressureErrorHandling]' passed (0.010 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testNilAndOptionalHandling]' started.
[2025-09-09 22:51:12.888] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.888] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.888] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:12.888] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.889] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.889] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testNilAndOptionalHandling]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testPermissionErrorHandling]' started.
[2025-09-09 22:51:12.889] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.889] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.889] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:12.889] [PermissionOracle.swift:118 init()] ğŸ”® [Oracle] Permission Oracle initialized - ending the chaos!
[2025-09-09 22:51:12.890] [PermissionOracle.swift:148 currentSnapshot()] ğŸ”® [Oracle] Test mode snapshot generated (non-blocking)
[2025-09-09 22:51:12.909] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.909] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.909] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testPermissionErrorHandling]' passed (0.020 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testResourceCleanupErrorHandling]' started.
[2025-09-09 22:51:12.910] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.910] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.910] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:199 setupEventTap()] ğŸ§ª [KeyboardCapture] Test environment detected â€“ skipping CGEvent tap setup
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [KeyboardCapture.swift:391 startEmergencyMonitoring(callback:)] ğŸ§ª [KeyboardCapture] Test environment â€“ skipping emergency monitoring tap
[2025-09-09 22:51:12.910] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.910] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.910] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testResourceCleanupErrorHandling]' passed (0.001 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testSequenceGenerationErrorHandling]' started.
[2025-09-09 22:51:12.911] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.911] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.911] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:418: error: -[KeyPathTests.ErrorHandlingTests testSequenceGenerationErrorHandling] : XCTAssertTrue failed - Multi-char sequence should be wrapped or converted: 'a	b
c' -> 'a	b
c'
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/ErrorHandlingTests.swift:418: error: -[KeyPathTests.ErrorHandlingTests testSequenceGenerationErrorHandling] : XCTAssertTrue failed - Multi-char sequence should be wrapped or converted: '!@#$%' -> '!@#$%'
[2025-09-09 22:51:12.912] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:12.912] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:12.912] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testSequenceGenerationErrorHandling]' failed (0.002 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testServiceInstallationErrorHandling]' started.
[2025-09-09 22:51:12.913] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:12.913] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:12.913] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:12.913] [KanataBinaryDetector.swift:64 detectCurrentStatus()] ğŸ” [KanataBinaryDetector] Starting unified kanata binary detection
[2025-09-09 22:51:12.981] [PackageManager.swift:176 detectCodeSigningStatus(at:)] ğŸ” [PackageManager] Code signing output for /Library/KeyPath/bin/kanata: Executable=/Library/KeyPath/bin/kanata
Identifier=kanata
Format=Mach-O thin (arm64)
CodeDirectory v=20500 size=6418 flags=0x10000(runtime) hashes=195+2 location=embedded
VersionPlatform=1
VersionMin=720896
VersionSDK=1703936
Hash type=sha256 size=32
CandidateCDHash sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
CandidateCDHashFull sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
Hash choices=sha256
CMSDigest=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
CMSDigestType=2
Executable Segment base=0
Executable Segment limit=1654784
Executable Segment flags=0x1
Page size=16384
CDHash=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
Signature size=8974
Authority=Developer ID Application: Micah Alpern (X2RKZ5TG99)
Authority=Developer ID Certification Authority
Authority=Apple Root CA
Timestamp=Sep 1, 2025 at 10:45:48â€¯AM
Info.plist=not bound
TeamIdentifier=X2RKZ5TG99
Runtime Version=26.0.0
Sealed Resources=none
Internal requirements count=1 size=168

[2025-09-09 22:51:12.982] [KanataBinaryDetector.swift:119 checkSystemInstallation()] ğŸ” [KanataBinaryDetector] System binary signing: developerIDSigned(authority: "Developer ID Application: Micah Alpern (X2RKZ5TG99)")
[2025-09-09 22:51:12.982] [KanataBinaryDetector.swift:68 detectCurrentStatus()] âœ… [KanataBinaryDetector] System installation detected
[2025-09-09 22:51:12.982] [KanataBinaryDetector.swift:64 detectCurrentStatus()] ğŸ” [KanataBinaryDetector] Starting unified kanata binary detection
[2025-09-09 22:51:13.050] [PackageManager.swift:176 detectCodeSigningStatus(at:)] ğŸ” [PackageManager] Code signing output for /Library/KeyPath/bin/kanata: Executable=/Library/KeyPath/bin/kanata
Identifier=kanata
Format=Mach-O thin (arm64)
CodeDirectory v=20500 size=6418 flags=0x10000(runtime) hashes=195+2 location=embedded
VersionPlatform=1
VersionMin=720896
VersionSDK=1703936
Hash type=sha256 size=32
CandidateCDHash sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
CandidateCDHashFull sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
Hash choices=sha256
CMSDigest=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
CMSDigestType=2
Executable Segment base=0
Executable Segment limit=1654784
Executable Segment flags=0x1
Page size=16384
CDHash=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
Signature size=8974
Authority=Developer ID Application: Micah Alpern (X2RKZ5TG99)
Authority=Developer ID Certification Authority
Authority=Apple Root CA
Timestamp=Sep 1, 2025 at 10:45:48â€¯AM
Info.plist=not bound
TeamIdentifier=X2RKZ5TG99
Runtime Version=26.0.0
Sealed Resources=none
Internal requirements count=1 size=168

[2025-09-09 22:51:13.050] [KanataBinaryDetector.swift:119 checkSystemInstallation()] ğŸ” [KanataBinaryDetector] System binary signing: developerIDSigned(authority: "Developer ID Application: Micah Alpern (X2RKZ5TG99)")
[2025-09-09 22:51:13.050] [KanataBinaryDetector.swift:68 detectCurrentStatus()] âœ… [KanataBinaryDetector] System installation detected
[2025-09-09 22:51:13.050] [KanataBinaryDetector.swift:64 detectCurrentStatus()] ğŸ” [KanataBinaryDetector] Starting unified kanata binary detection
[2025-09-09 22:51:13.117] [PackageManager.swift:176 detectCodeSigningStatus(at:)] ğŸ” [PackageManager] Code signing output for /Library/KeyPath/bin/kanata: Executable=/Library/KeyPath/bin/kanata
Identifier=kanata
Format=Mach-O thin (arm64)
CodeDirectory v=20500 size=6418 flags=0x10000(runtime) hashes=195+2 location=embedded
VersionPlatform=1
VersionMin=720896
VersionSDK=1703936
Hash type=sha256 size=32
CandidateCDHash sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
CandidateCDHashFull sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
Hash choices=sha256
CMSDigest=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
CMSDigestType=2
Executable Segment base=0
Executable Segment limit=1654784
Executable Segment flags=0x1
Page size=16384
CDHash=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
Signature size=8974
Authority=Developer ID Application: Micah Alpern (X2RKZ5TG99)
Authority=Developer ID Certification Authority
Authority=Apple Root CA
Timestamp=Sep 1, 2025 at 10:45:48â€¯AM
Info.plist=not bound
TeamIdentifier=X2RKZ5TG99
Runtime Version=26.0.0
Sealed Resources=none
Internal requirements count=1 size=168

[2025-09-09 22:51:13.117] [KanataBinaryDetector.swift:119 checkSystemInstallation()] ğŸ” [KanataBinaryDetector] System binary signing: developerIDSigned(authority: "Developer ID Application: Micah Alpern (X2RKZ5TG99)")
[2025-09-09 22:51:13.117] [KanataBinaryDetector.swift:68 detectCurrentStatus()] âœ… [KanataBinaryDetector] System installation detected
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testServiceInstallationErrorHandling]' passed (0.205 seconds).
Test Case '-[KeyPathTests.ErrorHandlingTests testSpecialCharacterKeyMapping]' started.
[2025-09-09 22:51:13.118] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.118] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.118] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.ErrorHandlingTests testSpecialCharacterKeyMapping]' passed (0.001 seconds).
Test Suite 'ErrorHandlingTests' failed at 2025-09-09 22:51:13.119.
	 Executed 21 tests, with 6 failures (0 unexpected) in 4.039 (4.042) seconds
Test Suite 'FDADetectionTests' started at 2025-09-09 22:51:13.119.
Test Case '-[KeyPathTests.FDADetectionTests testDetectionModalTiming]' started.
Test Case '-[KeyPathTests.FDADetectionTests testDetectionModalTiming]' passed (0.000 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testFDACaching]' started.
Test Case '-[KeyPathTests.FDADetectionTests testFDACaching]' passed (0.000 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testFDACheckPerformance]' started.
/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/FDADetectionTests.swift:154: Test Case '-[KeyPathTests.FDADetectionTests testFDACheckPerformance]' measured [Time, seconds] average: 0.001, relative standard deviation: 60.508%, values: [0.001649, 0.000690, 0.000496, 0.000399, 0.000395, 0.000396, 0.000550, 0.000501, 0.000443, 0.000447], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100
Test Case '-[KeyPathTests.FDADetectionTests testFDACheckPerformance]' passed (0.263 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testFDADetectionWithoutAccess]' started.
Test Case '-[KeyPathTests.FDADetectionTests testFDADetectionWithoutAccess]' passed (0.004 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testProtectedPathDetection]' started.
No FDA access to: /Users/malpern/Library/Mail
No FDA access to: /Users/malpern/Library/Messages
Has FDA access to: /Users/malpern/Library/Safari/Bookmarks.plist
Test Case '-[KeyPathTests.FDADetectionTests testProtectedPathDetection]' passed (0.001 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testRestartTimingWindow]' started.
Test Case '-[KeyPathTests.FDADetectionTests testRestartTimingWindow]' passed (0.002 seconds).
Test Case '-[KeyPathTests.FDADetectionTests testWizardStatePreservation]' started.
Test Case '-[KeyPathTests.FDADetectionTests testWizardStatePreservation]' passed (0.001 seconds).
Test Suite 'FDADetectionTests' passed at 2025-09-09 22:51:13.391.
	 Executed 7 tests, with 0 failures (0 unexpected) in 0.271 (0.273) seconds
Test Suite 'IntegrationTestSuite' started at 2025-09-09 22:51:13.391.
Test Case '-[KeyPathTests.IntegrationTestSuite testAllIntegrationScenarios]' started.
ğŸ§ª Testing: New User Complete Journey
ğŸ“ Description: Clean install â†’ Setup â†’ First use â†’ Configuration â†’ Daily use
âœ… PASSED: New User Complete Journey
---
ğŸ§ª Testing: Partial Installation Recovery
ğŸ“ Description: User with partial install â†’ Automatic recovery â†’ Full functionality
âœ… PASSED: Partial Installation Recovery
---
ğŸ§ª Testing: Power User Daily Workflow
ğŸ“ Description: Multiple config changes â†’ Service restarts â†’ Heavy usage
âœ… PASSED: Power User Daily Workflow
---
ğŸ§ª Testing: Error Recovery and Resilience
ğŸ“ Description: Service failures â†’ Automatic recovery â†’ Continued operation
âœ… PASSED: Error Recovery and Resilience
---
ğŸ§ª Testing: Security and Root Privileges
ğŸ“ Description: Verify root execution â†’ Permission validation â†’ Security compliance
âœ… PASSED: Security and Root Privileges
---
ğŸ“Š INTEGRATION TEST RESULTS:
âœ… Passed: 5/5
âŒ Failed: 0/5
Test Case '-[KeyPathTests.IntegrationTestSuite testAllIntegrationScenarios]' passed (0.001 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testEndToEndPerformance]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testEndToEndPerformance]' passed (0.001 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testErrorRecovery]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testErrorRecovery]' passed (0.001 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testNewUserCompleteJourney]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testNewUserCompleteJourney]' passed (0.000 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testPartialInstallationRecovery]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testPartialInstallationRecovery]' passed (0.000 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testPowerUserWorkflow]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testPowerUserWorkflow]' passed (0.000 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testSecurityCompliance]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testSecurityCompliance]' passed (0.000 seconds).
Test Case '-[KeyPathTests.IntegrationTestSuite testStressScenario]' started.
Test Case '-[KeyPathTests.IntegrationTestSuite testStressScenario]' passed (0.001 seconds).
Test Suite 'IntegrationTestSuite' passed at 2025-09-09 22:51:13.397.
	 Executed 8 tests, with 0 failures (0 unexpected) in 0.005 (0.006) seconds
Test Suite 'KanataManagerTests' started at 2025-09-09 22:51:13.397.
Test Case '-[KeyPathTests.KanataManagerTests testConfigPathProperty]' started.
[2025-09-09 22:51:13.398] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.398] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.398] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.398] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.398] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.398] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testConfigPathProperty]' passed (0.001 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testConfigValidation]' started.
[2025-09-09 22:51:13.399] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.399] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.399] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.399] [KanataManager+Configuration.swift:53 validateConfigFile()] ğŸ“„ [Validation] Using file-based validation
[2025-09-09 22:51:13.467] [ConfigurationService.swift:324 validateConfigViaFile()] âœ… [ConfigService] File validation passed
[2025-09-09 22:51:13.468] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.468] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.468] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testConfigValidation]' passed (0.069 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testDiagnosticManagement]' started.
[2025-09-09 22:51:13.469] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.469] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.469] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.469] [KanataManager.swift:330 addDiagnostic(_:)] âŒ [Diagnostic] Test Error: Test description
[2025-09-09 22:51:13.469] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.469] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.469] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testDiagnosticManagement]' passed (0.001 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testInitialState]' started.
[2025-09-09 22:51:13.470] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.470] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.470] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.470] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.470] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.470] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testInitialState]' passed (0.001 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testInstallationStatus]' started.
[2025-09-09 22:51:13.471] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.471] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.471] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.471] [KanataBinaryDetector.swift:64 detectCurrentStatus()] ğŸ” [KanataBinaryDetector] Starting unified kanata binary detection
[2025-09-09 22:51:13.539] [PackageManager.swift:176 detectCodeSigningStatus(at:)] ğŸ” [PackageManager] Code signing output for /Library/KeyPath/bin/kanata: Executable=/Library/KeyPath/bin/kanata
Identifier=kanata
Format=Mach-O thin (arm64)
CodeDirectory v=20500 size=6418 flags=0x10000(runtime) hashes=195+2 location=embedded
VersionPlatform=1
VersionMin=720896
VersionSDK=1703936
Hash type=sha256 size=32
CandidateCDHash sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
CandidateCDHashFull sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
Hash choices=sha256
CMSDigest=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
CMSDigestType=2
Executable Segment base=0
Executable Segment limit=1654784
Executable Segment flags=0x1
Page size=16384
CDHash=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
Signature size=8974
Authority=Developer ID Application: Micah Alpern (X2RKZ5TG99)
Authority=Developer ID Certification Authority
Authority=Apple Root CA
Timestamp=Sep 1, 2025 at 10:45:48â€¯AM
Info.plist=not bound
TeamIdentifier=X2RKZ5TG99
Runtime Version=26.0.0
Sealed Resources=none
Internal requirements count=1 size=168

[2025-09-09 22:51:13.540] [KanataBinaryDetector.swift:119 checkSystemInstallation()] ğŸ” [KanataBinaryDetector] System binary signing: developerIDSigned(authority: "Developer ID Application: Micah Alpern (X2RKZ5TG99)")
[2025-09-09 22:51:13.540] [KanataBinaryDetector.swift:68 detectCurrentStatus()] âœ… [KanataBinaryDetector] System installation detected
[2025-09-09 22:51:13.540] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.540] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.540] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testInstallationStatus]' passed (0.070 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testKeyMappingStorage]' started.
[2025-09-09 22:51:13.540] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.540] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.541] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.541] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.541] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.541] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testKeyMappingStorage]' passed (0.001 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testPerformanceConfigValidation]' started.
[2025-09-09 22:51:13.541] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.541] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.541] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.542] [KanataManager+Configuration.swift:53 validateConfigFile()] ğŸ“„ [Validation] Using file-based validation
[2025-09-09 22:51:13.608] [ConfigurationService.swift:324 validateConfigViaFile()] âœ… [ConfigService] File validation passed
[2025-09-09 22:51:13.608] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.608] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.608] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testPerformanceConfigValidation]' passed (0.067 seconds).
Test Case '-[KeyPathTests.KanataManagerTests testSystemDiagnostics]' started.
[2025-09-09 22:51:13.609] [ProcessLifecycleManager.swift:99 init(kanataManager:)] ğŸ—ï¸ [ProcessLifecycleManager] Initialized with simplified PID-based tracking and caching
[2025-09-09 22:51:13.609] [ConfigFileWatcher.swift:38 init()] ğŸ“ [FileWatcher] ConfigFileWatcher initialized with robust monitoring
[2025-09-09 22:51:13.609] [KanataManager.swift:318 init()] ğŸ§ª [KanataManager] Skipping background initialization in test environment
[2025-09-09 22:51:13.609] [KanataBinaryDetector.swift:64 detectCurrentStatus()] ğŸ” [KanataBinaryDetector] Starting unified kanata binary detection
[2025-09-09 22:51:13.673] [PackageManager.swift:176 detectCodeSigningStatus(at:)] ğŸ” [PackageManager] Code signing output for /Library/KeyPath/bin/kanata: Executable=/Library/KeyPath/bin/kanata
Identifier=kanata
Format=Mach-O thin (arm64)
CodeDirectory v=20500 size=6418 flags=0x10000(runtime) hashes=195+2 location=embedded
VersionPlatform=1
VersionMin=720896
VersionSDK=1703936
Hash type=sha256 size=32
CandidateCDHash sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
CandidateCDHashFull sha256=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
Hash choices=sha256
CMSDigest=44d44c777a2b4fcea335922f14b6fa6a2f1a8648a44dbf901911eac3c3a137d7
CMSDigestType=2
Executable Segment base=0
Executable Segment limit=1654784
Executable Segment flags=0x1
Page size=16384
CDHash=44d44c777a2b4fcea335922f14b6fa6a2f1a8648
Signature size=8974
Authority=Developer ID Application: Micah Alpern (X2RKZ5TG99)
Authority=Developer ID Certification Authority
Authority=Apple Root CA
Timestamp=Sep 1, 2025 at 10:45:48â€¯AM
Info.plist=not bound
TeamIdentifier=X2RKZ5TG99
Runtime Version=26.0.0
Sealed Resources=none
Internal requirements count=1 size=168

[2025-09-09 22:51:13.674] [KanataBinaryDetector.swift:119 checkSystemInstallation()] ğŸ” [KanataBinaryDetector] System binary signing: developerIDSigned(authority: "Developer ID Application: Micah Alpern (X2RKZ5TG99)")
[2025-09-09 22:51:13.674] [KanataBinaryDetector.swift:68 detectCurrentStatus()] âœ… [KanataBinaryDetector] System installation detected
[2025-09-09 22:51:13.674] [KanataManager.swift:2190 isKarabinerElementsRunning()] â„¹ï¸ [Conflict] karabiner_grabber permanently disabled by KeyPath - skipping conflict check
[2025-09-09 22:51:13.741] [KanataManager.swift:2677 isKarabinerDaemonRunning()] ğŸ” [Daemon] Karabiner VirtualHIDDevice-Daemon running: true
[2025-09-09 22:51:13.741] [KanataManager.swift:2190 isKarabinerElementsRunning()] â„¹ï¸ [Conflict] karabiner_grabber permanently disabled by KeyPath - skipping conflict check
[2025-09-09 22:51:13.741] [ProcessLifecycleManager.swift:133 detectConflicts()] ğŸ” [ProcessLifecycleManager] Detecting conflicts...
[2025-09-09 22:51:13.741] [ProcessLifecycleManager.swift:137 detectConflicts()] ğŸ§ª [TestEnvironment] Skipping process conflict detection - returning clean state
[2025-09-09 22:51:13.874] [KanataManager.swift:2134 isKarabinerDriverExtensionEnabled()] âœ… [Driver] Karabiner driver extension is enabled
[2025-09-09 22:51:13.941] [KanataManager.swift:2172 areKarabinerBackgroundServicesEnabled()] âœ… [Services] Karabiner background services detected
[2025-09-09 22:51:13.942] [ConfigFileWatcher.swift:197 stopWatching()] ğŸ“ [FileWatcher] Stopping all monitoring...
[2025-09-09 22:51:13.942] [ConfigFileWatcher.swift:226 stopWatching()] âœ… [FileWatcher] All monitoring stopped and state cleared
[2025-09-09 22:51:13.942] [ConfigFileWatcher.swift:43 deinit] ğŸ“ [FileWatcher] ConfigFileWatcher deinitialized
Test Case '-[KeyPathTests.KanataManagerTests testSystemDiagnostics]' passed (0.333 seconds).
Test Suite 'KanataManagerTests' passed at 2025-09-09 22:51:13.942.
	 Executed 8 tests, with 0 failures (0 unexpected) in 0.543 (0.544) seconds
Test Suite 'KanataUDPClientTests' started at 2025-09-09 22:51:13.942.
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationPayloadSizeValidation]' started.
[2025-09-09 22:51:13.942] [KanataUDPClient.swift:117 authenticate(token:clientName:)] âŒ [UDP] Authentication payload too large for UDP
[2025-09-09 22:51:13.942] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationPayloadSizeValidation]' passed (0.001 seconds).
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationPerformance]' started.
[2025-09-09 22:51:14.198] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 73EE118C-A524-4D12-A4B1-A2EAC60825EB to 127.0.0.1:37000
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37000
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D to 127.0.0.1:37000
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request FD2EAE7C-66A0-4B45-885E-8FB99450C5AF to 127.0.0.1:37000
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request B38ACF0D-6DDC-4E96-82FC-7B5E64F16069 to 127.0.0.1:37000
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.199] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549 to 127.0.0.1:37000
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request FECE7571-12D8-4371-9D67-56E3D8679560 to 127.0.0.1:37000
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C to 127.0.0.1:37000
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: C2DD8666-DA6B-4E5D-83A3-A0BF4F0BB549]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 0A5A9AAD-96D9-433C-A94D-5F205592D3A0 to 127.0.0.1:37000
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.200] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 26AF584D-5129-4A81-B2EC-4F2DB8047703 to 127.0.0.1:37000
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"KeyPath"}} [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]/Users/malpern/Library/CloudStorage/Dropbox/code/KeyPath/Tests/KeyPathTests/KanataUDPClientTests.swift:224: Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationPerformance]' measured [Time, seconds] average: 0.000, relative standard deviation: 98.154%, values: [0.000050, 0.000015, 0.000009, 0.000008, 0.000008, 0.000007, 0.000007, 0.000007, 0.000011, 0.000007], performanceMetricID:com.apple.XCTPerformanceMetric_WallClockTime, baselineName: "", baselineAverage: , polarity: prefers smaller, maxPercentRegression: 10.000%, maxPercentRelativeStandardDeviation: 10.000%, maxRegression: 0.100, maxStandardDeviation: 0.100

[2025-09-09 22:51:14.201] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request EB3DE1C1-9E73-43A2-912B-158BA7388C15 to 127.0.0.1:37000
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (68 bytes) [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"client_name":"KeyPath","token":"***"}} [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:595 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âŒ Send error: POSIXErrorCode(rawValue: 61): Connection refused [requestId: B38ACF0D-6DDC-4E96-82FC-7B5E64F16069]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: FECE7571-12D8-4371-9D67-56E3D8679560]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 3DA985CA-F8EE-46F9-B9FA-1DC6E6A4410C]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationPerformance]' passed (0.258 seconds).
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 0A5A9AAD-96D9-433C-A94D-5F205592D3A0]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 26AF584D-5129-4A81-B2EC-4F2DB8047703]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: EB3DE1C1-9E73-43A2-912B-158BA7388C15]
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:617 sendUDPMessage(_:requiresAuth:)] â° [UDP] Request B38ACF0D-6DDC-4E96-82FC-7B5E64F16069 failed with error: POSIXErrorCode(rawValue: 61): Connection refused
[2025-09-09 22:51:14.201] [KanataUDPClient.swift:149 authenticate(token:clientName:)] âŒ [UDP] Authentication error: POSIXErrorCode(rawValue: 61): Connection refused
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationStateManagement]' started.
[2025-09-09 22:51:14.202] [KanataUDPClient.swift:181 clearAuthentication()] ğŸ” [UDP] Authentication cleared
[2025-09-09 22:51:14.202] [KeychainService.swift:109 clearSessionCache()] ğŸ” [Keychain] Session cache cleared
[2025-09-09 22:51:14.202] [KanataUDPClient.swift:65 deinit] ğŸ“¡ [UDP] Client deallocated, connection cleaned up
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationStateManagement]' passed (0.000 seconds).
Test Case '-[KeyPathTests.KanataUDPClientTests testAuthenticationWithMockResponse]' started.
[2025-09-09 22:51:14.202] [KanataUDPClient.swift:120 authenticate(token:clientName:)] ğŸ” [UDP] Attempting authentication
[2025-09-09 22:51:14.202] [KanataUDPClient.swift:487 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Starting request 6111E033-67C1-43C3-8C66-A6A284FF5ECE to 127.0.0.1:37000
[2025-09-09 22:51:14.202] [KanataUDPClient.swift:511 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message to 127.0.0.1:37000 (77 bytes) [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.203] [KanataUDPClient.swift:514 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Message content: {"Authenticate":{"token":"***","client_name":"TestClient"}} [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.203] [KanataUDPClient.swift:429 getOrCreateConnection()] ğŸ“¡ [UDP] Created new connection to 127.0.0.1:37000
[2025-09-09 22:51:14.203] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: preparing
[2025-09-09 22:51:14.203] [KanataUDPClient.swift:420 getOrCreateConnection()] ğŸ“¡ [UDP] Connection state: ready
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:53244 [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.250] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 73EE118C-A524-4D12-A4B1-A2EAC60825EB]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:53244 [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: FD2EAE7C-66A0-4B45-885E-8FB99450C5AF]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:595 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âŒ Send error: POSIXErrorCode(rawValue: 61): Connection refused [requestId: 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D]
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:617 sendUDPMessage(_:requiresAuth:)] â° [UDP] Request 5FBAC614-E3FF-478D-BEC3-03539A8FFA1D failed with error: POSIXErrorCode(rawValue: 61): Connection refused
[2025-09-09 22:51:14.251] [KanataUDPClient.swift:149 authenticate(token:clientName:)] âŒ [UDP] Authentication error: POSIXErrorCode(rawValue: 61): Connection refused
[2025-09-09 22:51:14.256] [KanataUDPClient.swift:546 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Local endpoint: 127.0.0.1:58594 [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.256] [KanataUDPClient.swift:553 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Arming receive handler BEFORE send to prevent race condition [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.256] [KanataUDPClient.swift:592 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] Sending message after receive handler is armed [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.256] [KanataUDPClient.swift:607 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent from local endpoint: 127.0.0.1:58594 [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
[2025-09-09 22:51:14.256] [KanataUDPClient.swift:611 sendUDPMessage(_:requiresAuth:)] ğŸ“¡ [UDP] âœ… Message sent - receive handler already armed [requestId: 6111E033-67C1-43C3-8C66-A6A284FF5ECE]
