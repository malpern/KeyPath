<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.26">
<title>KeyPath Configuration Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock pre>code{display:block}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/styles/github.min.css">
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>KeyPath Configuration Guide</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_release_milestones">Release Milestones</a></li>
<li><a href="#_how_to_read_this_guide">How to read this guide</a></li>
<li><a href="#_preamble">Preamble</a></li>
<li><a href="#getting-started">Getting Started</a>
<ul class="sectlevel2">
<li><a href="#installation">Installation</a></li>
<li><a href="#first-launch">First Launch</a></li>
<li><a href="#emergency-exit">Forcefully exit KeyPath </a></li>
</ul>
</li>
<li><a href="#ui-guide">User Interface Guide</a>
<ul class="sectlevel2">
<li><a href="#main-window">Main Window</a></li>
<li><a href="#creating-mappings">Creating a Simple Mapping</a></li>
<li><a href="#advanced-behaviors">Advanced Behaviors</a></li>
<li><a href="#rule-collections">Rule Collections</a></li>
<li><a href="#conflict-detection">Conflict Detection</a></li>
</ul>
</li>
<li><a href="#cli-reference">Command-Line Interface</a>
<ul class="sectlevel2">
<li><a href="#cli-installation">CLI Installation</a></li>
<li><a href="#cli-commands">Commands</a>
<ul class="sectlevel3">
<li><a href="#cli-status">status</a></li>
<li><a href="#cli-install">install</a></li>
<li><a href="#cli-repair">repair</a></li>
<li><a href="#cli-uninstall">uninstall</a></li>
<li><a href="#cli-inspect">inspect</a></li>
<li><a href="#cli-help">help</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#deep-links">Deep Links (Action URI System)</a>
<ul class="sectlevel2">
<li><a href="#syntax-formats">Syntax Formats</a>
<ul class="sectlevel3">
<li><a href="#_shorthand_syntax_recommended_for_configs">Shorthand Syntax (Recommended for Configs)</a></li>
<li><a href="#_full_uri_syntax_for_deep_links">Full URI Syntax (For Deep Links)</a></li>
</ul>
</li>
<li><a href="#supported-actions">Supported Actions</a>
<ul class="sectlevel3">
<li><a href="#action-launch"><code>launch:{app}</code> / <code>keypath://launch/{app}</code></a></li>
<li><a href="#action-layer"><code>layer:{name}</code> / <code>keypath://layer/{name}</code></a></li>
<li><a href="#action-rule"><code>rule:{id}</code> / <code>keypath://rule/{id}[/fired]</code></a></li>
<li><a href="#action-notify"><code>notify:</code> / <code>keypath://notify</code></a></li>
<li><a href="#action-open"><code>open:{url}</code> / <code>keypath://open/{url}</code></a></li>
<li><a href="#action-fakekey"><code>fakekey:{name}</code> / <code>keypath://fakekey/{name}[/{action}]</code></a></li>
</ul>
</li>
<li><a href="#external-tools">External Tool Integration</a>
<ul class="sectlevel3">
<li><a href="#raycast">Raycast</a></li>
<li><a href="#alfred">Alfred</a></li>
<li><a href="#keyboard-maestro">Keyboard Maestro</a></li>
<li><a href="#applescript">AppleScript</a></li>
</ul>
</li>
<li><a href="#virtual-keys-inspector">Virtual Keys Inspector</a></li>
</ul>
</li>
<li><a href="#tap-hold-tap-dance">Tap-Hold &amp; Tap-Dance</a>
<ul class="sectlevel2">
<li><a href="#tap-hold-quick-start">Quick Start: Creating a Tap-Hold Key</a></li>
<li><a href="#tap-dance-quick-start">Quick Start: Creating a Tap-Dance Key</a></li>
<li><a href="#tap-hold-behaviors">Tap-Hold Behaviors</a></li>
<li><a href="#tap-hold-timing">Timing Configuration</a></li>
<li><a href="#tap-dance-configuration">Tap-Dance Configuration</a></li>
<li><a href="#conflict-resolution">Hold vs Tap-Dance Conflict Resolution</a></li>
<li><a href="#generated-kanata-syntax">Generated Kanata Syntax</a></li>
</ul>
</li>
<li><a href="#configuration-files">Configuration Files</a>
<ul class="sectlevel2">
<li><a href="#config-location">Configuration Location</a></li>
<li><a href="#config-structure">Configuration Structure</a></li>
<li><a href="#hot-reload">Hot Reload</a></li>
</ul>
</li>
<li><a href="#troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#common-issues">Common Issues</a>
<ul class="sectlevel3">
<li><a href="#keys-not-remapping">Keys Not Remapping?</a></li>
<li><a href="#app-wont-start">KeyPath Won&#8217;t Start?</a></li>
<li><a href="#conflict-warnings">Seeing Conflict Warnings?</a></li>
<li><a href="#permission-issues">Permission Issues?</a></li>
</ul>
</li>
<li><a href="#advanced-troubleshooting">Advanced Troubleshooting</a>
<ul class="sectlevel3">
<li><a href="#cli-diagnostics">Using CLI for Diagnostics</a></li>
<li><a href="#log-files">Log Files</a></li>
<li><a href="#manual-config-editing">Manual Configuration Editing</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#safety-features">Safety Features</a>
<ul class="sectlevel2">
<li><a href="#emergency-stop">Emergency Stop</a></li>
<li><a href="#conflict-detection">Conflict Detection</a></li>
<li><a href="#permission-management">Permission Management</a></li>
</ul>
</li>
<li><a href="#uninstallation">Uninstallation</a>
<ul class="sectlevel2">
<li><a href="#recommended-method">Recommended Method</a></li>
<li><a href="#cli-uninstall">CLI Uninstall</a></li>
<li><a href="#manual-uninstall">Manual Uninstall</a></li>
</ul>
</li>
<li><a href="#reference">Reference</a>
<ul class="sectlevel2">
<li><a href="#key-names">Key Names</a></li>
<li><a href="#modifier-prefixes">Modifier Prefixes</a></li>
<li><a href="#special-keywords">Special Keywords</a></li>
<li><a href="#file-locations">File Locations</a></li>
<li><a href="#tcp-port">TCP Port</a></li>
<li><a href="#version-compatibility">Version Compatibility</a></li>
</ul>
</li>
<li><a href="#faq">Frequently Asked Questions</a>
<ul class="sectlevel2">
<li><a href="#faq-offline">Does KeyPath work offline?</a></li>
<li><a href="#faq-telemetry">Does KeyPath collect data?</a></li>
<li><a href="#faq-kanata-syntax">Do I need to learn Kanata syntax?</a></li>
<li><a href="#faq-multiple-computers">Can I sync settings across computers?</a></li>
<li><a href="#faq-performance">Does KeyPath affect performance?</a></li>
</ul>
</li>
<li><a href="#references">References</a></li>
<li><a href="#appendix">Appendix</a>
<ul class="sectlevel2">
<li><a href="#appendix-architecture">Architecture Overview</a></li>
<li><a href="#appendix-technical-stack">Technical Stack</a></li>
<li><a href="#appendix-contributing">Contributing</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This document describes how to use KeyPath, a macOS application that makes keyboard remapping simple and accessible.</p>
</div>
<div class="paragraph">
<p>KeyPath provides a native macOS interface for <a href="https://github.com/jtroo/kanata">Kanata</a>, a powerful cross-platform keyboard remapping engine. With KeyPath, you can remap keys, create advanced behaviors like tap-hold and tap-dance, and integrate with external tools—all without writing configuration files or using the command line.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_release_milestones">Release Milestones</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KeyPath uses release milestones to control feature availability:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>R1 (Current Release):</strong> Installer + Custom Rules</p>
<div class="ulist">
<ul>
<li>
<p>Includes: Installation Wizard, Custom Rules editor, Tap-Hold &amp; Tap-Dance support, Action URI system</p>
</li>
<li>
<p>Does not include: Rule Collections, Live Keyboard Overlay, Mapper UI, Simulator Tab, Virtual Keys Inspector</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>R2 (Future Release):</strong> Full Features</p>
<div class="ulist">
<ul>
<li>
<p>Adds: Rule Collections, Live Keyboard Overlay, Mapper UI, Simulator Tab, Virtual Keys Inspector</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Features marked with "R2 only" in this guide are not available in R1.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_read_this_guide">How to read this guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <strong>Reference</strong> sections are shorter
and are intended for reviewing how precisely to configure different features.
The <strong>Description</strong> sections are longer
and contain more details such as advice, motivation, and examples.</p>
</div>
<div class="paragraph">
<p>If you have any questions, confusions, suggestions, etc., feel free to
<a href="https://github.com/malpern/KeyPath/discussions/new/choose">start a discussion</a>
or <a href="https://github.com/malpern/KeyPath/issues/new/choose">file an issue</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preamble">Preamble</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KeyPath is designed to make keyboard remapping accessible to everyone. You don&#8217;t need to:
- Learn Kanata&#8217;s configuration syntax
- Understand macOS security frameworks (TCC)
- Manage LaunchDaemon services
- Install drivers manually
- Debug permission issues</p>
</div>
<div class="paragraph">
<p>KeyPath handles all of this automatically while giving you access to Kanata&#8217;s full power.</p>
</div>
<div class="paragraph">
<p>Useful terminology:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">mapping</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A rule that transforms one key (or key combination) into another action.
Examples: <code>caps</code> → <code>esc</code>, <code>Cmd+Space</code> → <code>Cmd+C</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tap-hold (dual-role)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A key that does one thing when tapped, another when held.
Example: <code>a</code> types "a" when tapped, acts as <code>Ctrl</code> when held.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tap-dance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A key that does different things based on tap count.
Example: Single tap = <code>esc</code>, Double tap = <code>caps</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rule collection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A group of related mappings bundled together.
Examples: "macOS Function Keys", "Vim Navigation", "Home Row Mods".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">custom rule</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A user-defined mapping created through the UI.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="getting-started">Getting Started</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="installation">Installation</h3>
<div class="paragraph">
<p><strong>Option 1: Download Release</strong> (Recommended)
1. Download from the <a href="https://github.com/malpern/KeyPath/releases">Releases page</a>
2. Open <code>KeyPath.app</code>
3. Follow the setup wizard</p>
</div>
<div class="paragraph">
<p><strong>Option 2: Build from Source</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">git clone https://github.com/malpern/KeyPath.git
cd KeyPath
./build.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>The build script automatically:
- Compiles the Swift package
- Signs all components with Developer ID
- Notarizes the app bundle
- Installs to <code>~/Applications/</code>
- Restarts the app</p>
</div>
<div class="paragraph">
<p><strong>Troubleshooting builds locally:</strong>
- Skip notarization: <code>SKIP_NOTARIZE=1 ./build.sh</code>
- Dry-run signing: <code>KP_SIGN_DRY_RUN=1 ./build.sh</code></p>
</div>
</div>
<div class="sect2">
<h3 id="first-launch">First Launch</h3>
<div class="paragraph">
<p>When you first launch KeyPath, the <strong>Installation Wizard</strong> will guide you through:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Permission Setup</strong> - Grants Input Monitoring and Accessibility permissions</p>
</li>
<li>
<p><strong>Driver Installation</strong> - Installs Karabiner VirtualHID driver if needed</p>
</li>
<li>
<p><strong>Service Configuration</strong> - Sets up LaunchDaemon services</p>
</li>
<li>
<p><strong>System Validation</strong> - Verifies everything is working correctly</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The wizard handles all technical setup automatically and provides one-click fixes for common issues.</p>
</div>
</div>
<div class="sect2">
<h3 id="emergency-exit">Forcefully exit KeyPath <a id="force-exit"></a></h3>
<div class="paragraph">
<p>Though this isn&#8217;t configuration-related,
it may be important for you to know that pressing and holding all of the
three following keys together at the same time will cause KeyPath to exit:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Left Control</p>
</li>
<li>
<p>Space</p>
</li>
<li>
<p>Escape</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This mechanism works on the key input <strong>before</strong> any remappings done by KeyPath/Kanata.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ui-guide">User Interface Guide</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="main-window">Main Window</h3>
<div class="paragraph">
<p>The KeyPath main window provides access to all features:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Custom Rules</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create and manage your own key mappings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rule Collections</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable/disable pre-configured rule sets (macOS Function Keys, Vim Navigation, etc.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Settings</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configure KeyPath behavior, view system status, access advanced features</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Status Indicator</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Visual feedback showing system health (green = good, orange = warnings, red = errors)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="creating-mappings">Creating a Simple Mapping</h3>
<div class="paragraph">
<p><strong>Reference</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click <strong>"Create Rule"</strong> button</p>
</li>
<li>
<p>Click <strong>"Record Input"</strong> and press the key(s) you want to remap</p>
</li>
<li>
<p>Click <strong>"Record Output"</strong> and press what you want it to do</p>
</li>
<li>
<p>Click <strong>"Save"</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Description</strong></p>
</div>
<div class="paragraph">
<p>KeyPath uses visual recording to capture your key presses. You can record:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single keys</strong>: <code>caps</code>, <code>esc</code>, <code>tab</code></p>
</li>
<li>
<p><strong>Key combinations</strong>: <code>Cmd+C</code>, <code>Ctrl+Space</code>, <code>Shift+Tab</code></p>
</li>
<li>
<p><strong>Sequences</strong>: Press <code>A</code>, then <code>B</code>, then <code>C</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The recording interface shows exactly what keys you&#8217;re pressing in real-time.</p>
</div>
<div class="paragraph">
<p><strong>Example: Caps Lock → Escape</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open Custom Rules tab</p>
</li>
<li>
<p>Click "Create Rule"</p>
</li>
<li>
<p>Record Input: Press <code>Caps Lock</code></p>
</li>
<li>
<p>Record Output: Press <code>Escape</code></p>
</li>
<li>
<p>Click Save</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Your mapping is active immediately—no restart needed.</p>
</div>
</div>
<div class="sect2">
<h3 id="advanced-behaviors">Advanced Behaviors</h3>
<div class="paragraph">
<p>See <a href="#tap-hold-tap-dance">Tap-Hold &amp; Tap-Dance</a> for detailed information on:
- Tap-Hold (dual-role keys)
- Tap-Dance (multi-tap sequences)
- Hold behavior customization
- Timing configuration</p>
</div>
</div>
<div class="sect2">
<h3 id="rule-collections">Rule Collections</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Note:</strong> Rule Collections are available in R2 release only. R1 includes Custom Rules only.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Rule collections are pre-configured groups of mappings:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>macOS Function Keys</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remaps F1-F12 to media keys, brightness, etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Vim Navigation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adds Vim-style navigation layer (hjkl for arrows)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Leader Key</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configurable leader key for custom shortcuts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Caps Lock Remap</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Common Caps Lock alternatives (Escape, Control, etc.)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To enable a collection:
1. Go to <strong>Rule Collections</strong> tab
2. Toggle the switch next to the collection name
3. Collection is active immediately</p>
</div>
</div>
<div class="sect2">
<h3 id="conflict-detection">Conflict Detection</h3>
<div class="paragraph">
<p>KeyPath automatically detects when multiple rules map the same input key.</p>
</div>
<div class="paragraph">
<p><strong>Behavior:</strong>
- <strong>Warning toast</strong> appears (orange, 5 seconds)
- <strong>Warning sound</strong> plays ("Basso" at 40% volume)
- <strong>Action proceeds</strong> - conflicts are warnings, not errors
- <strong>Last enabled rule wins</strong> - most recently enabled rule takes precedence</p>
</div>
<div class="paragraph">
<p><strong>R1 vs R2:</strong>
- <strong>R1:</strong> Only detects conflicts between Custom Rules (e.g., two custom rules mapping the same key)
- <strong>R2:</strong> Also detects conflicts between Custom Rules and Rule Collections, and between Rule Collections</p>
</div>
<div class="paragraph">
<p><strong>Example (R2):</strong>
If you enable "Caps Lock Remap" collection (maps <code>caps</code> → <code>esc</code>) and then create a custom rule mapping <code>caps</code> → <code>tab</code>, you&#8217;ll see:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>⚠️ Custom Rule conflicts with Caps Lock Remap on key: caps. Last enabled rule wins.</pre>
</div>
</div>
<div class="paragraph">
<p>The custom rule will take precedence since it was enabled last.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cli-reference">Command-Line Interface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KeyPath includes a CLI for automation and system administration.</p>
</div>
<div class="sect2">
<h3 id="cli-installation">CLI Installation</h3>
<div class="paragraph">
<p>The CLI is bundled with KeyPath.app. To use it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Add to PATH (add to ~/.zshrc or ~/.bash_profile)
export PATH="$PATH:/Applications/KeyPath.app/Contents/MacOS"

# Or use full path
/Applications/KeyPath.app/Contents/MacOS/keypath-cli status</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cli-commands">Commands</h3>
<div class="sect3">
<h4 id="cli-status">status</h4>
<div class="paragraph">
<p>Check system status and wizard readiness.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli status</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output:</strong>
- System component status (permissions, services, drivers)
- Wizard readiness (can wizard be shown?)
- Conflicts detected
- Health summary</p>
</div>
<div class="paragraph">
<p><strong>Exit codes:</strong>
- <code>0</code> - System healthy
- <code>1</code> - Issues detected (wizard recommended)</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-install">install</h4>
<div class="paragraph">
<p>Install KeyPath services and components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli install</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>What it does:</strong>
- Installs LaunchDaemon services
- Sets up Kanata daemon
- Installs VirtualHID driver (if needed)
- Configures permissions
- Validates installation</p>
</div>
<div class="paragraph">
<p><strong>Requires:</strong> Admin privileges (prompts for password)</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-repair">repair</h4>
<div class="paragraph">
<p>Repair broken or unhealthy services.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli repair</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>What it does:</strong>
- Attempts fast repair (restart Kanata service)
- If that fails, runs full repair:
  - Reinstalls services
  - Fixes permission issues
  - Resolves conflicts
  - Validates configuration</p>
</div>
<div class="paragraph">
<p><strong>Requires:</strong> Admin privileges</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-uninstall">uninstall</h4>
<div class="paragraph">
<p>Remove KeyPath services and components.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli uninstall
keypath-cli uninstall --delete-config</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Options:</strong>
- <code>--delete-config</code> - Also delete user configuration files</p>
</div>
<div class="paragraph">
<p><strong>What it removes:</strong>
- LaunchDaemon services
- System binaries
- Configuration files (if <code>--delete-config</code> specified)
- Application bundle (if run from app bundle)</p>
</div>
<div class="paragraph">
<p><strong>Requires:</strong> Admin privileges</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-inspect">inspect</h4>
<div class="paragraph">
<p>Inspect system state without making changes.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli inspect</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Output:</strong>
- Detailed system state report
- Component status breakdown
- Detected conflicts
- Recommended actions</p>
</div>
<div class="paragraph">
<p><strong>Does not require:</strong> Admin privileges (read-only)</p>
</div>
</div>
<div class="sect3">
<h4 id="cli-help">help</h4>
<div class="paragraph">
<p>Show usage information.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keypath-cli help
keypath-cli --help
keypath-cli -h</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="deep-links">Deep Links (Action URI System)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KeyPath supports a URI-based action system that enables:
1. <strong>Kanata integration</strong> - Trigger KeyPath actions from keyboard shortcuts via <code>push-msg</code>
2. <strong>External tool integration</strong> - Raycast, Alfred, Keyboard Maestro can invoke KeyPath actions
3. <strong>Extensibility</strong> - Add new action types without protocol changes</p>
</div>
<div class="sect2">
<h3 id="syntax-formats">Syntax Formats</h3>
<div class="paragraph">
<p>KeyPath accepts <strong>two equivalent syntaxes</strong>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 22.2222%;">
<col style="width: 33.3333%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Context</th>
<th class="tableblock halign-left valign-top">Format</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Kanata config</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shorthand (colon)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>launch:obsidian</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Deep links</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Full URI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keypath://launch/Obsidian</code></p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_shorthand_syntax_recommended_for_configs">Shorthand Syntax (Recommended for Configs)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">[action]:[target][:[subpath]][?query=params]</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Use <strong>lowercase</strong> - resolves to Title Case in UI</p>
</li>
<li>
<p>Colons separate action, target, and subpaths</p>
</li>
<li>
<p>Query params use standard <code>?key=value</code> syntax</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(push-msg "launch:obsidian")           ;; → launches "Obsidian"
(push-msg "layer:nav:activate")        ;; → layer "nav", subpath "activate"
(push-msg "notify:?title=Saved")       ;; → notification with title</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_full_uri_syntax_for_deep_links">Full URI Syntax (For Deep Links)</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">keypath://[action]/[target][/subpath...][?query=params]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Used by external tools (Terminal, Raycast, Alfred):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">open "keypath://launch/Obsidian"
open "keypath://notify?title=Hello&amp;body=World"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="supported-actions">Supported Actions</h3>
<div class="sect3">
<h4 id="action-launch"><code>launch:{app}</code> / <code>keypath://launch/{app}</code></h4>
<div class="paragraph">
<p>Launch an application by name or bundle identifier.</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand - recommended):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">;; Use lowercase - resolves to Title Case
(push-msg "launch:obsidian")
(push-msg "launch:terminal")
(push-msg "launch:visual studio code")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Resolution order:</strong>
1. Bundle identifier lookup
2. Application name in <code>/Applications/</code>
3. Application name in <code>/System/Applications/</code>
4. Application name in <code>~/Applications/</code></p>
</div>
<div class="paragraph">
<p><strong>External Tool (full URI):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">open "keypath://launch/Obsidian"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="action-layer"><code>layer:{name}</code> / <code>keypath://layer/{name}</code></h4>
<div class="paragraph">
<p>Signal a layer change (for UI feedback, logging, or custom handlers).</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(defalias
  nav (multi (push-msg "layer:nav") (layer-switch nav))
  vim (multi (push-msg "layer:vim") (layer-switch vim))
)</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Optional subpaths:</strong>
- <code>:activate</code> / <code>/activate</code> - Layer was activated
- <code>:deactivate</code> / <code>/deactivate</code> - Layer was deactivated</p>
</div>
</div>
<div class="sect3">
<h4 id="action-rule"><code>rule:{id}</code> / <code>keypath://rule/{id}[/fired]</code></h4>
<div class="paragraph">
<p>Signal that a rule was triggered (for analytics, feedback, or debugging).</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(defalias
  caps-escape (multi (push-msg "rule:caps-escape:fired") esc)
)</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="action-notify"><code>notify:</code> / <code>keypath://notify</code></h4>
<div class="paragraph">
<p>Show a system notification.</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(push-msg "notify:?title=Saved&amp;body=Document saved successfully")
(push-msg "notify:?title=Layer&amp;body=Navigation mode&amp;sound=Pop")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Query parameters:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parameter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>title</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification title</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"KeyPath"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>body</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notification body</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sound</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">macOS sound name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(none)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>External Tool (full URI):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">open "keypath://notify?title=Hello&amp;body=World&amp;sound=Tink"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="action-open"><code>open:{url}</code> / <code>keypath://open/{url}</code></h4>
<div class="paragraph">
<p>Open a URL in the default browser.</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(push-msg "open:github.com")
(push-msg "open:https://docs.keypath.app")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Notes:</strong>
- URLs without a scheme get <code>https://</code> prepended
- URL-encoded characters are decoded automatically</p>
</div>
</div>
<div class="sect3">
<h4 id="action-fakekey"><code>fakekey:{name}</code> / <code>keypath://fakekey/{name}[/{action}]</code></h4>
<div class="paragraph">
<p>Trigger a Kanata virtual key (defined via <code>defvirtualkeys</code> or <code>deffakekeys</code>).</p>
</div>
<div class="paragraph">
<p><strong>Kanata Configuration (shorthand):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">;; Define virtual keys in your Kanata config
(defvirtualkeys
  email-sig (macro H e l l o spc W o r l d)
  toggle-mode (layer-toggle special)
)

;; Trigger from KeyPath
(push-msg "fakekey:email-sig")           ;; tap (default)
(push-msg "fakekey:toggle-mode:press")
(push-msg "fakekey:toggle-mode:release")</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>External Tool (full URI):</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">open "keypath://fakekey/email-sig/tap"</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Actions:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tap</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press and immediately release (default)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>press</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Press and hold</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>release</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Release a held key</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>toggle</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle between pressed and released</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Use cases:</strong>
- Trigger macros from external tools (Raycast, Alfred, deep links)
- Execute complex key sequences via simple URL
- Remote-control Kanata layers and modes</p>
</div>
<div class="paragraph">
<p><strong>Example: Email signature via Raycast</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash
# @raycast.title Insert Email Signature
# @raycast.mode silent
open "keypath://fakekey/email-sig/tap"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="external-tools">External Tool Integration</h3>
<div class="sect3">
<h4 id="raycast">Raycast</h4>
<div class="paragraph">
<p>Create a Raycast script command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">#!/bin/bash
# @raycast.title Launch Obsidian via KeyPath
# @raycast.mode silent

open "keypath://launch/Obsidian"</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="alfred">Alfred</h4>
<div class="paragraph">
<p>Create a workflow with "Open URL" action:
- URL: <code>keypath://launch/{query}</code></p>
</div>
</div>
<div class="sect3">
<h4 id="keyboard-maestro">Keyboard Maestro</h4>
<div class="paragraph">
<p>Use "Open URL" action with <code>keypath://</code> URLs.</p>
</div>
</div>
<div class="sect3">
<h4 id="applescript">AppleScript</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-applescript hljs" data-lang="applescript">do shell script "open 'keypath://launch/Obsidian'"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="virtual-keys-inspector">Virtual Keys Inspector</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>Note:</strong> Virtual Keys Inspector is available in R2 release only. R1 includes the <code>fakekey</code> action but not the inspector UI.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>KeyPath includes a built-in inspector for viewing and testing virtual keys defined in your configuration.</p>
</div>
<div class="paragraph">
<p><strong>Accessing:</strong>
1. Open KeyPath Settings (⌘,)
2. Go to the <strong>General</strong> tab
3. Scroll down to the <strong>Virtual Keys</strong> section</p>
</div>
<div class="paragraph">
<p><strong>Features:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Key List</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows all keys from <code>defvirtualkeys</code> and <code>deffakekeys</code> blocks</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Copy URL</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copy the deep link URL to clipboard for use in Raycast, Alfred, etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Button</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the virtual key immediately to verify it works</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Refresh</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re-parse the config file to pick up changes</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Requirements:</strong>
- Virtual keys must be defined in your Kanata config using <code>defvirtualkeys</code> or <code>deffakekeys</code>
- Kanata service must be running to test keys (TCP connection required)
- The inspector is read-only; edit your config file to add/modify keys</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tap-hold-tap-dance">Tap-Hold &amp; Tap-Dance</h2>
<div class="sectionbody">
<div class="paragraph">
<p>KeyPath supports advanced key behaviors beyond simple remapping:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Tap-Hold (Dual-Role)</strong>: A key that does one thing when tapped, another when held</p>
</li>
<li>
<p><strong>Tap-Dance</strong>: A key that does different things based on tap count (single, double, triple, etc.)</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="tap-hold-quick-start">Quick Start: Creating a Tap-Hold Key</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <strong>Custom Rules</strong> tab</p>
</li>
<li>
<p>Click <strong>Create Rule</strong></p>
</li>
<li>
<p>Set your <strong>Start</strong> key (e.g., <code>1</code>)</p>
</li>
<li>
<p>Set your <strong>Finish</strong> key (e.g., <code>2</code>) — this is the tap action</p>
</li>
<li>
<p>Enable <strong>Hold, Double Tap, etc.</strong> toggle</p>
</li>
<li>
<p>Set <strong>On Hold</strong> (e.g., <code>3</code>) — this is what happens when held</p>
</li>
<li>
<p>Choose hold behavior (options appear after entering hold action):</p>
<div class="ulist">
<ul>
<li>
<p><strong>Basic</strong>: Pure timeout-based</p>
</li>
<li>
<p><strong>Trigger early</strong>: Hold activates on other key press (best for home-row mods)</p>
</li>
<li>
<p><strong>Quick tap</strong>: Fast taps always register as tap</p>
</li>
<li>
<p><strong>Custom keys</strong>: Only specific keys trigger early tap</p>
</li>
</ul>
</div>
</li>
<li>
<p>Save</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="tap-dance-quick-start">Quick Start: Creating a Tap-Dance Key</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open <strong>Custom Rules</strong> tab</p>
</li>
<li>
<p>Click <strong>Create Rule</strong></p>
</li>
<li>
<p>Set your <strong>Start</strong> key (e.g., <code>caps</code>)</p>
</li>
<li>
<p>Set your <strong>Finish</strong> key (e.g., <code>esc</code>) — this is the single-tap action</p>
</li>
<li>
<p>Enable <strong>Hold, Double Tap, etc.</strong> toggle</p>
</li>
<li>
<p>Set <strong>Double Tap</strong> (e.g., <code>caps</code>)</p>
</li>
<li>
<p>(Optional) Click <strong>Add Tap Step</strong> for triple-tap, quad-tap, etc.</p>
</li>
<li>
<p>Save</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Hold and Tap-Dance cannot be used together on the same key. If you try to set one when the other is already configured, a dialog will ask which behavior you want to keep.</p>
</div>
</div>
<div class="sect2">
<h3 id="tap-hold-behaviors">Tap-Hold Behaviors</h3>
<div class="paragraph">
<p>KeyPath supports four hold behavior variants:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variant</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Best For</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Basic</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hold activates after timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beginners, simple use cases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Trigger early</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hold activates immediately when another key is pressed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home-row mods</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Quick tap</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fast taps always register as tap, even if another key was pressed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fast typists, preventing accidental holds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Custom keys</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Only specific keys trigger early tap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fine-tuned control</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Kanata Variants (priority order):</strong>
1. <code>tap-hold-press</code> - Hold triggers on other key press (<code>activateHoldOnOtherKey = true</code>)
2. <code>tap-hold-release</code> - Quick-tap / permissive-hold (<code>quickTap = true</code>)
3. <code>tap-hold-release-keys</code> - Early tap on specific keys (<code>customTapKeys</code> non-empty)
4. <code>tap-hold</code> - Basic timeout-based (default)</p>
</div>
</div>
<div class="sect2">
<h3 id="tap-hold-timing">Timing Configuration</h3>
<div class="paragraph">
<p>Tap-Hold timing can be configured globally or per-rule:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tap window</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milliseconds before tap becomes hold</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200ms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Hold delay</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Milliseconds for hold to fully activate</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Accessing timing controls:</strong>
1. Open rule editor
2. Enable <strong>Hold, Double Tap, etc.</strong> toggle
3. Click gear icon next to <strong>Timing (ms)</strong>
4. Adjust values as needed</p>
</div>
<div class="paragraph">
<p><strong>Explanation:</strong>
- <strong>Tap window</strong>: Time before a press is considered a hold
- <strong>Hold delay</strong>: Time for the hold to fully activate</p>
</div>
</div>
<div class="sect2">
<h3 id="tap-dance-configuration">Tap-Dance Configuration</h3>
<div class="paragraph">
<p>Tap-Dance allows different actions for different tap counts:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tap Count</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Label</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Tap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>esc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double Tap</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>caps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Triple Tap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tab</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4+</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quad Tap, etc.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Window Duration:</strong>
- Default: 200ms
- Configurable per rule
- Time window to register additional taps</p>
</div>
<div class="paragraph">
<p><strong>Adding Steps:</strong>
- Double Tap is shown by default
- Click <strong>"Add Tap Step"</strong> for triple-tap and beyond
- Remove steps (except Double Tap) with the minus button</p>
</div>
</div>
<div class="sect2">
<h3 id="conflict-resolution">Hold vs Tap-Dance Conflict Resolution</h3>
<div class="paragraph">
<p>Kanata cannot detect both hold duration and tap count on the same key. When you try to configure both:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Conflict dialog appears</strong> with illustration</p>
</li>
<li>
<p><strong>Shows current values</strong> for both behaviors</p>
</li>
<li>
<p><strong>Choose which to keep:</strong></p>
<div class="ulist">
<ul>
<li>
<p>"Keep Hold" / "Switch to Hold"</p>
</li>
<li>
<p>"Keep Tap Dance" / "Switch to Tap"</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The dialog explains: "Last enabled rule wins" - the most recently configured behavior takes precedence.</p>
</div>
</div>
<div class="sect2">
<h3 id="generated-kanata-syntax">Generated Kanata Syntax</h3>
<div class="paragraph">
<p>KeyPath generates standard Kanata syntax for advanced behaviors:</p>
</div>
<div class="paragraph">
<p><strong>Tap-Hold Examples:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">;; Basic tap-hold (timeout-based)
(tap-hold 200 200 a lctl)

;; tap-hold-press (hold on other key press)
(tap-hold-press 200 200 f lmet)

;; tap-hold-release (quick-tap / permissive hold)
(tap-hold-release 200 200 j rsft)

;; tap-hold-release-keys (early tap on specific keys)
(tap-hold-release-keys 200 200 a lctl (s d f))</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Tap-Dance Examples:</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">;; Two-step tap-dance
(tap-dance 200 (esc caps))

;; Three-step tap-dance
(tap-dance 150 (spc ret tab))</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuration-files">Configuration Files</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="config-location">Configuration Location</h3>
<div class="paragraph">
<p>KeyPath stores configuration at:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">~/Library/Application Support/KeyPath/keypath.kbd</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a standard Kanata configuration file. You can edit it directly if needed, and KeyPath will hot-reload changes via TCP.</p>
</div>
</div>
<div class="sect2">
<h3 id="config-structure">Configuration Structure</h3>
<div class="paragraph">
<p>KeyPath generates Kanata configuration with the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-lisp hljs" data-lang="lisp">(defcfg
  process-unmapped-keys yes
)

(defsrc
  ;; All keys you've configured
)

(deflayer base
  ;; Your mappings
)

;; Rule collections add their own layers
(deflayer navigation
  ;; Vim navigation mappings
)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hot-reload">Hot Reload</h3>
<div class="paragraph">
<p>KeyPath supports hot-reloading configuration changes:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Edit config file</strong> directly (if you know Kanata syntax)</p>
</li>
<li>
<p><strong>Save the file</strong></p>
</li>
<li>
<p><strong>KeyPath detects changes</strong> and reloads via TCP</p>
</li>
<li>
<p><strong>Changes apply immediately</strong> - no restart needed</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>TCP Connection:</strong>
- Default port: <code>37001</code>
- Localhost only (no network access)
- No authentication (future: token-based auth planned)</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="common-issues">Common Issues</h3>
<div class="sect3">
<h4 id="keys-not-remapping">Keys Not Remapping?</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check status indicator</strong> - Look for green checkmarks in the app</p>
</li>
<li>
<p><strong>Verify permissions</strong> - Ensure permissions granted in System Settings</p>
</li>
<li>
<p><strong>Use Fix Issues</strong> - Click "Fix Issues" button in the app for automated fixes</p>
</li>
<li>
<p><strong>Check logs</strong> - View system logs: <code>tail -f /var/log/kanata.log</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="app-wont-start">KeyPath Won&#8217;t Start?</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Check macOS version</strong> - Requires macOS 15.0 (Sequoia) or later</p>
</li>
<li>
<p><strong>Run setup wizard</strong> - Go to File → Run Setup Wizard</p>
</li>
<li>
<p><strong>Check logs</strong> - View Console.app for KeyPath errors</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="conflict-warnings">Seeing Conflict Warnings?</h4>
<div class="paragraph">
<p>Conflicts are warnings, not errors. The last enabled rule wins. To resolve:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Review enabled rules</strong> - Check Custom Rules and Rule Collections tabs</p>
</li>
<li>
<p><strong>Disable conflicting rules</strong> - Toggle off rules you don&#8217;t need</p>
</li>
<li>
<p><strong>Reorder if needed</strong> - Enable rules in the order you want them to take precedence</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="permission-issues">Permission Issues?</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Run Setup Wizard</strong> - File → Run Setup Wizard</p>
</li>
<li>
<p><strong>Check System Settings</strong> - System Settings → Privacy &amp; Security</p>
<div class="ulist">
<ul>
<li>
<p>Input Monitoring: Should show KeyPath and Kanata</p>
</li>
<li>
<p>Accessibility: Should show KeyPath</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Use Fix Button</strong> - Wizard provides one-click fixes for common issues</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="advanced-troubleshooting">Advanced Troubleshooting</h3>
<div class="sect3">
<h4 id="cli-diagnostics">Using CLI for Diagnostics</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Check system status
keypath-cli status

# Inspect without making changes
keypath-cli inspect

# Repair issues
keypath-cli repair</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="log-files">Log Files</h4>
<div class="paragraph">
<p>KeyPath logs to:
- <strong>System logs</strong>: <code>/var/log/kanata.log</code> (if running as LaunchDaemon)
- <strong>Console.app</strong>: Filter for "KeyPath" or "kanata"
- <strong>App logs</strong>: Check Console.app → KeyPath process</p>
</div>
</div>
<div class="sect3">
<h4 id="manual-config-editing">Manual Configuration Editing</h4>
<div class="paragraph">
<p>If you need to edit the Kanata config directly:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Backup first</strong>: Copy <code>~/Library/Application Support/KeyPath/keypath.kbd</code></p>
</li>
<li>
<p><strong>Edit with text editor</strong>: Use any text editor</p>
</li>
<li>
<p><strong>Validate syntax</strong>: KeyPath will show errors if syntax is invalid</p>
</li>
<li>
<p><strong>Hot reload</strong>: Changes apply automatically when saved</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Reference:</strong> See <a href="https://github.com/jtroo/kanata/blob/main/docs/config.adoc">Kanata Configuration Guide</a> for syntax details.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="safety-features">Safety Features</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="emergency-stop">Emergency Stop</h3>
<div class="paragraph">
<p>If your keyboard becomes unresponsive, press <strong>Ctrl + Space + Esc</strong> simultaneously. This immediately disables all remappings and restores normal keyboard functionality.</p>
</div>
</div>
<div class="sect2">
<h3 id="conflict-detection">Conflict Detection</h3>
<div class="paragraph">
<p>KeyPath automatically detects:
- <strong>Rule conflicts</strong> - Multiple rules mapping the same key
- <strong>System conflicts</strong> - Karabiner-Elements or other remappers running
- <strong>Service conflicts</strong> - Multiple Kanata instances</p>
</div>
<div class="paragraph">
<p><strong>Behavior:</strong>
- Warnings shown (non-blocking)
- Last enabled rule wins
- System conflicts detected and resolved automatically</p>
</div>
</div>
<div class="sect2">
<h3 id="permission-management">Permission Management</h3>
<div class="paragraph">
<p>KeyPath manages macOS permissions automatically:
- <strong>PermissionOracle</strong> - Single source of truth for permission detection
- <strong>Wizard guidance</strong> - Step-by-step permission setup
- <strong>One-click fixes</strong> - Automated permission repair</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="uninstallation">Uninstallation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="recommended-method">Recommended Method</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open KeyPath</p>
</li>
<li>
<p>Choose <strong>File → Uninstall KeyPath…</strong> (or <strong>Settings → Advanced → Uninstall KeyPath…</strong>)</p>
</li>
<li>
<p>Confirm the admin prompt</p>
</li>
<li>
<p>Bundled uninstaller removes LaunchDaemons, helper tools, and app bundle</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cli-uninstall">CLI Uninstall</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># Preserve user configuration
keypath-cli uninstall

# Delete user configuration too
keypath-cli uninstall --delete-config</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>What gets removed:</strong>
- LaunchDaemon services
- System binaries (<code>/Library/KeyPath/bin/kanata</code>)
- Configuration files (if <code>--delete-config</code> specified)
- Application bundle (if run from app bundle)</p>
</div>
</div>
<div class="sect2">
<h3 id="manual-uninstall">Manual Uninstall</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">sudo ./Scripts/uninstall.sh
# or for automation:
sudo ./Scripts/uninstall.sh --assume-yes</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="reference">Reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="key-names">Key Names</h3>
<div class="paragraph">
<p>KeyPath uses standard Kanata key names. Common keys:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>caps</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caps Lock</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>esc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Escape</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>tab</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tab</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ret</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return/Enter</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Space</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bspc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Backspace</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>del</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete (Forward Delete)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lctl</code>, <code>rctl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left/Right Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lsft</code>, <code>rsft</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left/Right Shift</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lalt</code>, <code>ralt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left/Right Option/Alt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>lmet</code>, <code>rmet</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left/Right Command/Meta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>up</code>, <code>down</code>, <code>left</code>, <code>right</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arrow keys</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f1</code> - <code>f12</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Function keys</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For complete list, see <a href="https://github.com/jtroo/kanata/blob/main/docs/config.adoc#key-names">Kanata Key Names Reference</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="modifier-prefixes">Modifier Prefixes</h3>
<div class="paragraph">
<p>KeyPath supports modifier prefixes in output:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modifier</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>C-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>M-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Command/Meta</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>A-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Option/Alt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>S-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shift</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Examples:</strong>
- <code>M-c</code> = Command+C
- <code>C-M-a</code> = Control+Command+A
- <code>S-tab</code> = Shift+Tab</p>
</div>
</div>
<div class="sect2">
<h3 id="special-keywords">Special Keywords</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyword</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expansion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hyper</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(multi lctl lmet lalt lsft)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All modifiers (Ctrl+Cmd+Alt+Shift)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>meh</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>(multi lctl lalt lsft)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="file-locations">File Locations</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/Library/Application Support/KeyPath/keypath.kbd</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Main configuration file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/Library/Application Support/KeyPath/RuleCollections.json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rule collections state</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>~/Library/Application Support/KeyPath/CustomRules.json</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom rules</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/Library/KeyPath/bin/kanata</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System-installed Kanata binary</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/Library/LaunchDaemons/com.keypath.kanata.plist</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LaunchDaemon plist (SMAppService-managed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>/var/log/kanata.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System logs (if running as LaunchDaemon)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="tcp-port">TCP Port</h3>
<div class="paragraph">
<p>Default port: <code>37001</code></p>
</div>
<div class="paragraph">
<p><strong>Security:</strong>
- Localhost only (no network access)
- No authentication (future: token-based auth planned)
- Threat model: any local process could trigger reloads/status calls</p>
</div>
</div>
<div class="sect2">
<h3 id="version-compatibility">Version Compatibility</h3>
<div class="paragraph">
<p>KeyPath is built for:
- <strong>macOS 15.0 (Sequoia) or later</strong>
- <strong>Kanata 1.10.0+</strong> (bundled)
- <strong>Karabiner VirtualHID Driver 6.0+</strong></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="faq">Frequently Asked Questions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="faq-offline">Does KeyPath work offline?</h3>
<div class="paragraph">
<p>Yes. KeyPath works completely offline by default. Optional AI config generation contacts Anthropic if <code>ANTHROPIC_API_KEY</code> is present, but this is opt-in.</p>
</div>
</div>
<div class="sect2">
<h3 id="faq-telemetry">Does KeyPath collect data?</h3>
<div class="paragraph">
<p>No. KeyPath does not collect telemetry or send data anywhere. All processing happens locally.</p>
</div>
</div>
<div class="sect2">
<h3 id="faq-kanata-syntax">Do I need to learn Kanata syntax?</h3>
<div class="paragraph">
<p>No. KeyPath&#8217;s UI handles all configuration. However, you can edit the generated Kanata config file directly if you want advanced control.</p>
</div>
</div>
<div class="sect2">
<h3 id="faq-multiple-computers">Can I sync settings across computers?</h3>
<div class="paragraph">
<p>KeyPath stores configuration in <code>~/Library/Application Support/KeyPath/</code>. You can sync these files using iCloud, Dropbox, or any file sync service.</p>
</div>
</div>
<div class="sect2">
<h3 id="faq-performance">Does KeyPath affect performance?</h3>
<div class="paragraph">
<p>Minimal impact. KeyPath runs as a lightweight LaunchDaemon and uses efficient event tapping. Typical CPU usage is &lt;1%.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="references">References</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/jtroo/kanata/blob/main/docs/config.adoc">Kanata Configuration Guide</a> - Complete Kanata syntax reference</p>
</li>
<li>
<p><a href="https://precondition.github.io/home-row-mods">Home Row Mods Guide</a> - Advanced tap-hold techniques</p>
</li>
<li>
<p><a href="https://github.com/malpern/KeyPath">KeyPath GitHub Repository</a> - Source code and issues</p>
</li>
<li>
<p><a href="https://github.com/malpern/KeyPath/discussions">KeyPath Discussions</a> - Community discussions</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="appendix">Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="appendix-architecture">Architecture Overview</h3>
<div class="paragraph">
<p>KeyPath consists of:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Description</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>KeyPath.app</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Main SwiftUI application</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>KeyPathHelper</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privileged helper tool (SMAppService)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Kanata Daemon</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LaunchDaemon service running Kanata</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Configuration Service</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generates and validates Kanata configs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PermissionOracle</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single source of truth for permission detection</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>InstallerEngine</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles installation, repair, uninstallation</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="appendix-technical-stack">Technical Stack</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Swift 6.0</strong> - Modern Swift concurrency (async/await, actors)</p>
</li>
<li>
<p><strong>SwiftUI</strong> - Native macOS UI with Liquid Glass design</p>
</li>
<li>
<p><strong>Kanata</strong> - Cross-platform keyboard remapping engine</p>
</li>
<li>
<p><strong>LaunchDaemon</strong> - System-level service management</p>
</li>
<li>
<p><strong>Karabiner VirtualHID</strong> - macOS HID driver for system-level remapping</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="appendix-contributing">Contributing</h3>
<div class="paragraph">
<p>We welcome contributions! See <a href="https://github.com/malpern/KeyPath/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a> for:
- Architecture overview
- Contribution guidelines
- Development setup
- Testing requirements</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.3/highlight.min.js"></script>
<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
</script>
</body>
</html><!-- Updated: Sun Dec  7 15:44:14 PST 2025 -->
